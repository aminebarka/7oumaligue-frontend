const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/pages-admin-B5rhJhc1.js","js/ui-vendor-DqoNKs2x.js","js/react-vendor-ESZBtSj6.js","js/utils-vendor-NIGUFBhG.js"])))=>i.map(i=>d[i]);
var He=Object.defineProperty;var Je=(r,a,s)=>a in r?He(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s;var ke=(r,a,s)=>Je(r,typeof a!="symbol"?a+"":a,s);import{u as Ee,a as Ae,b as De,c as We,R as Ke,_ as me}from"./pages-admin-B5rhJhc1.js";import{j as e,T as he,g as qe,h as we,X as je,U as pe,C as Me,S as Ze,e as Ne,P as Se,b as Be,i as Pe,m as q,B as Qe,k as $e,Z as Ce,l as Xe,n as Te,o as Ie,p as Ye,q as es,r as Ge,s as Ue,t as ss,u as ts,v as rs,w as as,x as ls,y as ns,z as Fe,H as os,I as is}from"./ui-vendor-DqoNKs2x.js";import{r as b,u as cs,N as _e}from"./react-vendor-ESZBtSj6.js";import{a as re}from"./utils-vendor-NIGUFBhG.js";const Ve=r=>r?new Date(r).toLocaleDateString("fr-FR"):"",ds=({tournament:r,user:a,t:s,isRTL:i,canEdit:x=!0,canDelete:l=!0,onDrawClick:m,onManageClick:S,onDelete:X,onDetails:J,onShowPlayers:Y,onManage:U})=>{var R;return e.jsxs("div",{className:"rounded-2xl shadow-lg bg-white hover:shadow-2xl transition-all duration-300 border border-gray-100 overflow-hidden group flex flex-col h-full",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-400 via-orange-500 to-yellow-400 p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[r.logo&&r.logo.startsWith("data:image")?e.jsx("img",{src:r.logo,alt:"Tournament logo",className:"w-16 h-16 object-cover rounded-xl shadow-lg border-2 border-white/20"}):e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-xl flex items-center justify-center text-3xl shadow-lg border-2 border-white/20",children:r.logo||"🏆"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"font-bold text-xl text-white drop-shadow-sm",children:r.name}),r.startDate&&r.endDate&&e.jsxs("span",{className:"text-white/90 text-sm font-medium",children:[Ve(r.startDate)," - ",Ve(r.endDate)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r.isFavorite&&e.jsx("span",{className:"text-yellow-300 text-2xl drop-shadow-sm",children:"⭐"}),e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${r.status==="active"?"bg-green-500 text-white shadow-sm":"bg-gray-500 text-white shadow-sm"}`,children:r.status==="active"?"En cours":"Terminé"})]})]}),e.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-between",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((R=r.teams)==null?void 0:R.length)||0}),e.jsx("div",{className:"text-xs text-blue-600 font-medium",children:"Équipes"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.drawCompleted?"✓":"⏳"}),e.jsx("div",{className:"text-xs text-green-600 font-medium",children:r.drawCompleted?"Tirage fait":"Tirage à faire"})]})]}),e.jsxs("div",{className:"space-y-3",children:[r.prize&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("span",{className:"text-lg",children:"💰"}),e.jsxs("span",{className:"font-medium",children:["Prix: ",r.prize]})]}),r.stadium&&e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx("span",{className:"text-lg",children:"🏟️"}),e.jsxs("span",{className:"font-medium",children:["Stade: ",r.stadium]})]}),r.rules&&e.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Règles:"})," ",r.rules]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[e.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",onClick:J,children:"👁️ Détails"}),e.jsx("button",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",onClick:Y,children:"👥 Joueurs"}),x&&e.jsx("button",{className:"bg-gradient-to-r from-gray-500 to-gray-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-gray-600 hover:to-gray-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",onClick:U,children:"⚙️ Gérer"}),l&&e.jsx("button",{className:"bg-gradient-to-r from-red-500 to-red-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-red-600 hover:to-red-700 transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-105",onClick:()=>X(r.id),children:"🗑️ Supprimer"})]})]})]})},ae="http://localhost:5000/api",ms={getSuggestions:async r=>{try{return(await re.post(`${ae}/tournaments/ai/suggestions`,r)).data.data}catch(a){return console.error("Erreur lors de la récupération des suggestions:",a),[]}},getPersonalizedRecommendation:async(r,a,s,i)=>{try{return(await re.post(`${ae}/tournaments/ai/personalized`,{teams:r,venue:a,timeSlot:s,budget:i})).data.data}catch(x){throw console.error("Erreur lors de la génération de recommandation:",x),x}}},zs={getPosts:async()=>{try{return(await re.get(`${ae}/social/posts`)).data.data}catch(r){return console.error("Erreur lors de la récupération des posts:",r),[]}},createPost:async r=>{try{return(await re.post(`${ae}/social/posts`,r)).data.data}catch(a){throw console.error("Erreur lors de la création du post:",a),a}},toggleLike:async r=>{try{await re.post(`${ae}/social/posts/${r}/like`)}catch(a){throw console.error("Erreur lors du like:",a),a}},addComment:async(r,a)=>{try{await re.post(`${ae}/social/posts/${r}/comments`,{content:a})}catch(s){throw console.error("Erreur lors de l'ajout du commentaire:",s),s}},sharePost:async r=>{try{await re.post(`${ae}/social/posts/${r}/share`)}catch(a){throw console.error("Erreur lors du partage:",a),a}}},qs={getTransactions:async()=>{try{return(await re.get(`${ae}/payments/transactions`)).data.data}catch(r){return console.error("Erreur lors de la récupération des transactions:",r),[]}},createPayment:async r=>{try{return(await re.post(`${ae}/payments/create`,r)).data.data}catch(a){throw console.error("Erreur lors de la création du paiement:",a),a}},checkPaymentStatus:async r=>{try{return(await re.get(`${ae}/payments/status/${r}`)).data.data}catch(a){throw console.error("Erreur lors de la vérification du statut:",a),a}},getPaymentStats:async r=>{try{return(await re.get(`${ae}/payments/stats/${r}`)).data.data}catch(a){return console.error("Erreur lors de la récupération des statistiques:",a),{}}}},xs={getStadiums:async()=>{var r,a,s,i,x;try{console.log("🔄 Tentative de récupération des stades...");const l=await re.get(`${ae}/stadiums`);return console.log("✅ Stades récupérés via route simple"),l.data.data}catch(l){return console.error("❌ Erreur lors de la récupération des stades:",l),l instanceof Error?console.error("📋 Détails de l'erreur:",{message:l.message,response:(r=l.response)==null?void 0:r.data,status:(a=l.response)==null?void 0:a.status,statusText:(s=l.response)==null?void 0:s.statusText,url:(i=l.config)==null?void 0:i.url,method:(x=l.config)==null?void 0:x.method}):console.error("📋 Erreur inconnue:",l),[]}},getStadium:async r=>{try{const a=localStorage.getItem("token");return(await re.get(`${ae}/stadiums/${r}`,{headers:{Authorization:`Bearer ${a}`}})).data.data}catch(a){throw console.error("Erreur lors de la récupération du stade:",a),a}},getPartnerStadiums:async()=>{try{const r=localStorage.getItem("token");return(await re.get(`${ae}/stadiums/partners`,{headers:{Authorization:`Bearer ${r}`}})).data.data}catch(r){return console.error("Erreur lors de la récupération des stades partenaires:",r),[]}}},$s={getCurrentMatch:async()=>{try{return(await re.get(`${ae}/matches/current`)).data.data}catch(r){return console.error("Erreur lors de la récupération du match en cours:",r),{id:"mock-match-1",homeTeamRef:{name:"Équipe A",logo:"⚽"},awayTeamRef:{name:"Équipe B",logo:"⚽"},homeScore:2,awayScore:1,status:"in_progress",date:new Date().toISOString(),time:"14:30",tournament:{name:"Tournoi Test"}}}},getNextMatches:async(r=5)=>{try{return(await re.get(`${ae}/matches/next?limit=${r}`)).data.data}catch(a){return console.error("Erreur lors de la récupération des prochains matchs:",a),[{id:"mock-match-2",homeTeamRef:{name:"Équipe C",logo:"⚽"},awayTeamRef:{name:"Équipe D",logo:"⚽"},status:"scheduled",date:new Date(Date.now()+864e5).toISOString(),time:"16:00",tournament:{name:"Tournoi Test"}},{id:"mock-match-3",homeTeamRef:{name:"Équipe E",logo:"⚽"},awayTeamRef:{name:"Équipe F",logo:"⚽"},status:"scheduled",date:new Date(Date.now()+1728e5).toISOString(),time:"18:30",tournament:{name:"Tournoi Test"}}]}},getLiveStats:async r=>{try{return(await re.get(`${ae}/matches/${r}/stats`)).data.data}catch(a){return console.error("Erreur lors de la récupération des stats en direct:",a),{}}}},us=({show:r,onClose:a,newTournament:s,setNewTournament:i,logoOptions:x,onSubmit:l,t:m,isRTL:S})=>{const[X,J]=b.useState("basic"),[Y,U]=b.useState([]),[R,D]=b.useState(!1),[_,O]=b.useState(null),[W,ee]=b.useState(8),[ce,y]=b.useState([]),[k,z]=b.useState(!1);b.useEffect(()=>{r&&A()},[r]);const A=async()=>{var o,I,$,H,L;z(!0);try{console.log("🔄 Chargement des stades..."),console.log("🔑 Token disponible:",!!localStorage.getItem("token")),console.log("🌐 URL API:",`${window.location.origin.replace("3000","5000")}/stadiums/public`);const G=await xs.getStadiums();console.log("✅ Stades chargés:",G),console.log("📊 Nombre de stades:",G.length),console.log("📋 Type de données:",typeof G),console.log("📋 Est un tableau:",Array.isArray(G)),G.length===0?(console.log("⚠️ Aucun stade récupéré de l'API"),console.log("💡 Vérifiez que:"),console.log("   1. Le serveur backend est démarré"),console.log("   2. L'API /api/stadiums/public répond"),console.log("   3. Il y a des stades en base de données")):(console.log("📋 Stades récupérés:"),G.forEach((V,xe)=>{console.log(`  ${xe+1}. ${V.name} - ${V.city} (ID: ${V.id})`)})),y(G)}catch(G){console.error("❌ Erreur lors du chargement des stades:",G),console.error("📋 Détails de l'erreur:",{message:G.message,response:(o=G.response)==null?void 0:o.data,status:(I=G.response)==null?void 0:I.status,statusText:($=G.response)==null?void 0:$.statusText,url:(H=G.config)==null?void 0:H.url,method:(L=G.config)==null?void 0:L.method}),alert("Erreur lors du chargement des stades. Vérifiez la console pour plus de détails.")}finally{z(!1)}};if(!r)return null;const F=o=>{const I=o.target.value,$=I===""?0:parseInt(I,10);i({...s,numberOfGroups:isNaN($)?0:$})},Z=async()=>{if(W<4){alert("Le nombre minimum d'équipes est de 4");return}D(!0);try{const o=await ms.getSuggestions({numberOfTeams:W,maxDuration:"7d",availableFields:2,maxMatchesPerDay:8,includeThirdPlace:!0});U(o)}catch(o){console.error("Erreur lors de la récupération des suggestions:",o),alert("Erreur lors de la récupération des suggestions AI")}finally{D(!1)}},le=o=>{i({...s,numberOfGroups:String(o.numberOfGroups),teamsPerGroup:String(o.teamsPerGroup)}),O(o)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Créer un Nouveau Tournoi"}),e.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[e.jsxs("button",{type:"button",onClick:()=>J("basic"),className:`flex items-center space-x-2 px-4 py-2 border-b-2 font-medium text-sm ${X==="basic"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:"Informations de base"})]}),e.jsxs("button",{type:"button",onClick:()=>J("ai"),className:`flex items-center space-x-2 px-4 py-2 border-b-2 font-medium text-sm ${X==="ai"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(qe,{className:"w-4 h-4"}),e.jsx("span",{children:"Assistant AI"})]})]}),X==="basic"&&e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("tournaments.create.name")}),e.jsx("input",{type:"text",required:!0,value:s.name,onChange:o=>i({...s,name:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Ex: Championnat d'Été 2024"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("tournaments.create.logo")}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ou choisissez un emoji :"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:x.map(o=>e.jsx("button",{type:"button",onClick:()=>i({...s,logo:o}),className:`p-2 text-2xl rounded-lg border-2 transition-colors ${s.logo===o?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:o},o))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Ou importez votre logo :"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:o=>{var $;const I=($=o.target.files)==null?void 0:$[0];if(I){const H=new FileReader;H.onload=L=>{var V;const G=(V=L.target)==null?void 0:V.result;i({...s,logo:G})},H.readAsDataURL(I)}},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),e.jsx("button",{type:"button",onClick:()=>{var o;return(o=document.getElementById("logo-upload"))==null?void 0:o.click()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Parcourir"})]}),e.jsx("input",{id:"logo-upload",type:"file",accept:"image/*",onChange:o=>{var $;const I=($=o.target.files)==null?void 0:$[0];if(I){const H=new FileReader;H.onload=L=>{var V;const G=(V=L.target)==null?void 0:V.result;i({...s,logo:G})},H.readAsDataURL(I)}},className:"hidden"})]}),s.logo&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Aperçu :"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[s.logo.startsWith("data:image")?e.jsx("img",{src:s.logo,alt:"Logo preview",className:"w-16 h-16 object-cover rounded-lg border-2 border-gray-200"}):e.jsx("div",{className:"w-16 h-16 text-3xl flex items-center justify-center rounded-lg border-2 border-gray-200",children:s.logo}),e.jsx("button",{type:"button",onClick:()=>i({...s,logo:"🏆"}),className:"text-sm text-red-500 hover:text-red-700",children:"Supprimer"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("tournaments.create.start")}),e.jsx("input",{type:"date",required:!0,value:s.startDate,onChange:o=>i({...s,startDate:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("tournaments.create.end")}),e.jsx("input",{type:"date",required:!0,value:s.endDate,onChange:o=>i({...s,endDate:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("tournaments.create.prize")}),e.jsx("input",{type:"text",required:!0,value:s.prize,onChange:o=>i({...s,prize:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Ex: 1000 MAD + Trophée"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("tournaments.create.rules")}),e.jsx("textarea",{required:!0,value:s.rules,onChange:o=>i({...s,rules:o.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Ex: Format coupe - Élimination directe - Matchs de 2x20 minutes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stade"}),e.jsxs("select",{value:s.stadium||"",onChange:o=>i({...s,stadium:o.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Sélectionner un stade"}),k?e.jsx("option",{value:"",children:"Chargement des stades..."}):ce.length===0?e.jsx("option",{value:"",children:"Aucun stade trouvé"}):ce.map(o=>e.jsxs("option",{value:o.name,children:[o.name," - ",o.city]},String(o.id)))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("tournaments.create.groups")}),e.jsx("input",{type:"number",min:"1",max:"8",required:!0,value:s.numberOfGroups||0,onChange:F,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Nombre de groupes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m("tournaments.create.teamsPerGroup")}),e.jsx("input",{type:"number",min:"2",max:"8",required:!0,value:s.teamsPerGroup||0,onChange:o=>i({...s,teamsPerGroup:parseInt(o.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Équipes par groupe"})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:m("common.cancel")}),e.jsx("button",{type:"submit",className:"flex-1 btn-primary text-white px-4 py-2 rounded-lg font-medium",children:m("tournaments.create")})]})]}),X==="ai"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"🤖 Assistant AI - Tahia Coach"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Laissez notre IA vous suggérer le meilleur format de tournoi selon vos contraintes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre d'équipes"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("input",{type:"number",min:"4",max:"32",value:W,onChange:o=>ee(parseInt(o.target.value)||8),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Nombre d'équipes"}),e.jsx("button",{type:"button",onClick:Z,disabled:R,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg font-medium hover:from-blue-600 hover:to-purple-600 transition-all disabled:opacity-50",children:R?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Analyse..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(qe,{className:"w-4 h-4"}),e.jsx("span",{children:"Obtenir des suggestions"})]})})]})]}),Y.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Suggestions de format (",Y.length,")"]}),e.jsx("div",{className:"grid gap-4",children:Y.map((o,I)=>e.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${_===o?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>le(o),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-semibold text-gray-800 mb-2",children:[o.description,o.isRecommended&&e.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Recommandé"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Format:"})," ",o.format]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Groupes:"})," ",o.numberOfGroups]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Équipes/groupe:"})," ",o.teamsPerGroup]})]}),e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Matchs totaux:"})," ",o.totalMatches]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Durée estimée:"})," ",o.estimatedDuration]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Avantages:"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:o.advantages.map(($,H)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),$]},H))})]})]}),_===o&&e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center",children:"✓"})})]})},I))})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>J("basic"),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Retour aux informations"}),e.jsx("button",{type:"button",onClick:l,disabled:!_,className:"flex-1 px-4 py-2 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors disabled:opacity-50",children:"Créer avec ce format"})]})]})]})})},hs=({show:r,onClose:a,onConfirm:s,t:i,numberOfGroups:x,setNumberOfGroups:l})=>r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(we,{className:"mr-3 text-blue-600",size:28}),i("tournaments.draw.title")]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-medium text-blue-900 mb-2",children:["🤖 ",i("tournaments.draw.ai")]}),e.jsx("p",{className:"text-sm text-blue-800",children:i("tournaments.draw.ai.desc")})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-medium text-green-900 mb-2",children:["⚖️ ",i("tournaments.draw.balance")]}),e.jsx("p",{className:"text-sm text-green-800",children:i("tournaments.draw.balance.desc")})]}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:[2,3,4,6,8].map(m=>e.jsx("button",{onClick:()=>l(m),className:`py-2 rounded-lg ${x===m?"bg-green-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:m},m))})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:i("common.cancel")}),e.jsxs("button",{onClick:s,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(we,{size:16}),e.jsx("span",{children:i("tournaments.draw.perform")})]})]})]})}):null,gs=({group:r,teams:a})=>{var s;return!r.groupTeams||r.groupTeams.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:r.name}),e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aucune équipe dans ce groupe"})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:r.name}),e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 px-4 border-b",children:"Équipe"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"Pts"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"MJ"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"G"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"N"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"P"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"BP"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"BC"}),e.jsx("th",{className:"py-2 px-4 border-b",children:"Diff"})]})}),e.jsx("tbody",{children:(s=r.groupTeams)==null?void 0:s.map(i=>{const x=a.find(l=>l.id===i.teamId);return e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"py-2 px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:x==null?void 0:x.logo}),e.jsx("span",{children:x==null?void 0:x.name})]})}),e.jsx("td",{className:"py-2 px-4 text-center font-bold",children:i.points}),e.jsx("td",{className:"py-2 px-4 text-center",children:i.played}),e.jsx("td",{className:"py-2 px-4 text-center",children:i.wins}),e.jsx("td",{className:"py-2 px-4 text-center",children:i.draws}),e.jsx("td",{className:"py-2 px-4 text-center",children:i.losses}),e.jsx("td",{className:"py-2 px-4 text-center",children:i.goalsFor}),e.jsx("td",{className:"py-2 px-4 text-center",children:i.goalsAgainst}),e.jsx("td",{className:"py-2 px-4 text-center",children:i.goalsFor-i.goalsAgainst})]},i.id)})})]})]})},ps=({show:r,onClose:a,player:s,setPlayer:i,onSubmit:x,t:l,teams:m})=>r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:s.id?l("common.edit.player"):l("common.add.player")}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("common.player.name")}),e.jsx("input",{type:"text",required:!0,value:s.name,onChange:S=>i({...s,name:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Nom du joueur"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("common.position")}),e.jsxs("select",{value:s.position,onChange:S=>i({...s,position:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[e.jsx("option",{value:"Gardien",children:"Gardien"}),e.jsx("option",{value:"Défenseur",children:"Défenseur"}),e.jsx("option",{value:"Milieu",children:"Milieu"}),e.jsx("option",{value:"Attaquant",children:"Attaquant"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("common.team")}),e.jsxs("select",{value:s.teamId||"",onChange:S=>i({...s,teamId:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Sélectionner une équipe"}),m.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("common.level")}),e.jsx("select",{value:s.level,onChange:S=>i({...s,level:parseInt(S.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[1,2,3,4,5].map(S=>e.jsxs("option",{value:S,children:[S," ⭐"]},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("common.age")}),e.jsx("input",{type:"number",min:"16",max:"50",value:s.age,onChange:S=>i({...s,age:parseInt(S.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:l("common.jerseyNumber")}),e.jsx("input",{type:"number",min:"1",max:"99",value:s.jerseyNumber||"",onChange:S=>i({...s,jerseyNumber:parseInt(S.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:l("common.cancel")}),e.jsx("button",{type:"button",onClick:x,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors",children:s.id?l("common.save"):l("common.add")})]})]})]})}):null,bs=({show:r,onClose:a,team:s,setTeam:i,onSubmit:x,t:l})=>{if(!r)return null;const m=["⚽","🏆","🥇","🏅","🎯","🔥","⭐","💎","👑","🌟","🦁","🦅","🦈","⚡","🐺","🦉","🦊","🐯","🐻","🐨"];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Créer une nouvelle équipe"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:e.jsx(je,{size:24})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'équipe"}),e.jsx("input",{type:"text",required:!0,value:s.name||"",onChange:S=>i({...s,name:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Nom de l'équipe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo"}),e.jsx("div",{className:"grid grid-cols-5 gap-2 max-h-32 overflow-y-auto",children:m.map(S=>e.jsx("button",{type:"button",onClick:()=>i({...s,logo:S}),className:`p-2 text-2xl rounded-lg border-2 ${s.logo===S?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:S},S))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entraîneur"}),e.jsx("input",{type:"text",value:s.coach||"",onChange:S=>i({...s,coach:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Nom de l'entraîneur"})]}),e.jsxs("div",{className:"flex space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"Annuler"}),e.jsx("button",{type:"button",onClick:x,disabled:!s.name||!s.logo,className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Créer l'équipe"})]})]})]})})},fs=({show:r,onClose:a,tournament:s,teams:i,players:x,matches:l,groups:m,onAddTeam:S,onRemoveTeam:X,onAddPlayer:J,onUpdatePlayer:Y,onRemovePlayer:U,onAddMatch:R,onPerformDraw:D,onUpdateGroup:_,onUpdateGroups:O,onGenerateMatches:W,onUpdateTournament:ee,onCreateTeam:ce,onRefreshData:y,onUpdateMatchScore:k})=>{var Oe,Re;const{t:z}=Ee(),[A,F]=b.useState("teams"),[Z,le]=b.useState(null),[o,I]=b.useState(!1),[$,H]=b.useState(!1),[L,G]=b.useState({name:"",logo:"⚽",coach:"",players:[],wins:0,draws:0,losses:0,goals:0,goalsAgainst:0,matches:0,createdAt:new Date().toISOString(),averageLevel:3,playerLevels:{}}),[V,xe]=b.useState(s.numberOfGroups||4),[de,ge]=b.useState(null),[ne,be]=b.useState("15:00"),[c,p]=b.useState({name:s.name,startDate:s.startDate,endDate:s.endDate,prize:s.prize||"",stadium:s.stadium||""}),[h,g]=b.useState(null),[M,f]=b.useState(null),[N,Q]=b.useState({homeScore:0,awayScore:0}),[se,K]=b.useState({}),d=i.filter(n=>Array.isArray(s.tournamentTeams)?(Array.isArray(s.tournamentTeams)?s.tournamentTeams:[]).some(w=>{var T;return((T=w.team)==null?void 0:T.id)===n.id||w.teamId===n.id}):!1),j=i.filter(n=>Array.isArray(s.tournamentTeams)?!(Array.isArray(s.tournamentTeams)?s.tournamentTeams:[]).some(w=>{var T;return((T=w.team)==null?void 0:T.id)===n.id||w.teamId===n.id}):!0),C=Array.isArray(s.tournamentTeams)?s.tournamentTeams.map(n=>{var w;return((w=n.team)==null?void 0:w.id)||n.teamId}):[],t=Array.isArray(x)?x:[];console.log("Debug ManageTournamentModal:"),console.log("- tournament:",s),console.log("- tournament.tournamentTeams:",s.tournamentTeams),console.log("- teamIds:",C),console.log("- players:",x),console.log("- tournamentPlayers:",t),console.log("- Nombre total de joueurs:",x.length),console.log("- Nombre de joueurs du tournoi:",t.length),console.log("- availableTeams:",j),console.log("- tournamentTeams:",d),console.log("- Nombre d'équipes disponibles:",j.length),console.log("Debug filtrage des équipes:"),i.forEach(n=>{const w=Array.isArray(s.tournamentTeams)?s.tournamentTeams.some(T=>{var v;return((v=T.team)==null?void 0:v.id)===n.id||T.teamId===n.id}):!1;console.log(`- Équipe ${n.name} (${n.id}): dans le tournoi = ${w}`)}),console.log("Debug structure tournament.tournamentTeams:"),Array.isArray(s.tournamentTeams)?(Array.isArray(s.tournamentTeams)?s.tournamentTeams:[]).forEach((n,w)=>{console.log(`  [${w}] team:`,n)}):console.log("  tournament.tournamentTeams n'est pas un tableau:",s.tournamentTeams),b.useEffect(()=>{s.drawCompleted&&!m.length&&d.length>0&&D(V)},[s.drawCompleted,m]),b.useEffect(()=>{s.drawCompleted&&m.length>0&&l.length===0&&(console.log("Génération automatique des matchs après tirage au sort..."),W("15:00"))},[s.drawCompleted,m.length,l.length,W]),b.useEffect(()=>{const n=setInterval(()=>{K(w=>({...w}))},1e3);return()=>clearInterval(n)},[]);const u=()=>{D(V),I(!1)},E=(n,w)=>{const T=m.map(v=>v.id===n?{...v,name:w}:v);O(T)},P=(n,w,T)=>{const v=[...m],ue=v.findIndex(te=>te.id===w);ue!==-1&&(v[ue].groupTeams=(v[ue].groupTeams||[]).filter(te=>te.teamId!==n));const fe=v.findIndex(te=>te.id===T);fe!==-1&&(v[fe].groupTeams||(v[fe].groupTeams=[]),v[fe].groupTeams.push({id:`gt-${Date.now()}`,groupId:T,teamId:n,points:0,goalsFor:0,goalsAgainst:0,played:0,wins:0,draws:0,losses:0})),O(v)},B=()=>{ee({...s,name:c.name,startDate:c.startDate,endDate:c.endDate,prize:c.prize,stadium:c.stadium})},ye=n=>{f(n.id),Q({homeScore:n.homeScore,awayScore:n.awayScore})},Le=async n=>{if(k)try{await k(n,N.homeScore,N.awayScore),f(null),console.log("Score mis à jour avec succès")}catch(w){console.error("Erreur lors de la mise à jour du score:",w)}},ze=()=>{f(null)},oe=(n,w)=>{const T={...n,status:w};w==="live"&&K(v=>({...v,[n.id]:new Date})),R(T)},ve=n=>{const w=se[n];return w?`${Math.floor((new Date().getTime()-w.getTime())/1e3/60)}'`:null};return r?e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-6xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[s.logo&&s.logo.startsWith("data:image")?e.jsx("img",{src:s.logo,alt:"Tournament logo",className:"w-16 h-16 mr-4 object-contain rounded-lg shadow-md"}):e.jsx("span",{className:"text-4xl mr-4",children:s.logo}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-2xl font-bold",children:s.name}),e.jsx("span",{className:"text-sm text-gray-500 font-medium",children:s.startDate&&s.endDate&&`${new Date(s.startDate).toLocaleDateString("fr-FR")} - ${new Date(s.endDate).toLocaleDateString("fr-FR")}`})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:d.length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Équipes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:t.length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Joueurs"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-purple-600",children:l.length}),e.jsx("div",{className:"text-xs text-gray-500",children:"Matchs"})]}),s.drawCompleted&&(m.length>0||((Oe=s.groups)==null?void 0:Oe.length)>0)&&e.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 px-3 py-1 rounded-full",children:[e.jsx(we,{size:14,className:"text-blue-500"}),e.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[m.length||((Re=s.groups)==null?void 0:Re.length)||0," groupes"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{console.log("Rechargement manuel des données..."),y&&y()},className:"p-2 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Actualiser les données",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),e.jsx("button",{onClick:a,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:e.jsx(je,{size:20})})]})]})]}),e.jsxs("div",{className:"flex border-b mb-6 bg-gray-50 rounded-lg p-1",children:[e.jsxs("button",{className:`px-4 py-3 font-medium flex items-center rounded-md transition-all duration-200 ${A==="teams"?"bg-white text-green-600 shadow-sm border border-gray-200":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,onClick:()=>F("teams"),children:[e.jsx(pe,{size:18,className:"mr-2"}),"Équipes"]}),e.jsxs("button",{className:`px-4 py-3 font-medium flex items-center rounded-md transition-all duration-200 ${A==="players"?"bg-white text-green-600 shadow-sm border border-gray-200":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,onClick:()=>F("players"),children:[e.jsx(pe,{size:18,className:"mr-2"}),"Joueurs"]}),e.jsxs("button",{className:`px-4 py-3 font-medium flex items-center rounded-md transition-all duration-200 ${A==="groups"?"bg-white text-green-600 shadow-sm border border-gray-200":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,onClick:()=>F("groups"),children:[e.jsx(we,{size:18,className:"mr-2"}),"Groupes"]}),e.jsxs("button",{className:`px-4 py-3 font-medium flex items-center rounded-md transition-all duration-200 ${A==="matches"?"bg-white text-green-600 shadow-sm border border-gray-200":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,onClick:()=>F("matches"),children:[e.jsx(Me,{size:18,className:"mr-2"}),"Matchs"]}),e.jsxs("button",{className:`px-4 py-3 font-medium flex items-center rounded-md transition-all duration-200 ${A==="settings"?"bg-white text-green-600 shadow-sm border border-gray-200":"text-gray-600 hover:text-gray-800 hover:bg-white/50"}`,onClick:()=>F("settings"),children:[e.jsx(Ze,{size:18,className:"mr-2"}),"Paramètres"]})]}),A==="teams"&&e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Équipes participantes (",d.length,")"]}),!s.drawCompleted&&d.length>0&&e.jsxs("button",{onClick:()=>I(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center",children:[e.jsx(we,{size:16,className:"mr-2"}),"Effectuer le tirage"]})]}),e.jsx("div",{className:"space-y-3 mb-6",children:(d||[]).map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:n.logo}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[n.players.length," joueurs"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>g(n),className:"text-blue-600 hover:text-blue-800 p-2",title:"Voir les détails",children:"Détails"}),e.jsx("button",{onClick:()=>X(n.id),className:"text-red-600 hover:text-red-800 p-2",children:e.jsx(je,{size:16})})]})]},n.id))}),j.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Ajouter une équipe au tournoi"}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:(j||[]).map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:n.logo}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:n.name}),e.jsxs("div",{className:"text-sm text-gray-600",children:[n.players.length," joueurs"]})]})]}),e.jsx("button",{onClick:()=>{console.log("Tentative d'ajout d'équipe:",n.name,n.id),console.log("Équipes dans le tournoi:",(Array.isArray(s.tournamentTeams)?s.tournamentTeams:[]).map(T=>{var v;return{id:T.teamId,name:(v=T.team)==null?void 0:v.name}}));const w=(Array.isArray(s.tournamentTeams)?s.tournamentTeams:[]).some(T=>{var v;return((v=T.team)==null?void 0:v.id)===n.id||T.teamId===n.id});if(console.log("Équipe déjà dans le tournoi?",w),w){console.log("Équipe déjà inscrite - arrêt de l'ajout"),alert("Cette équipe est déjà inscrite au tournoi");return}console.log("Ajout de l'équipe autorisé"),S(n.id)},className:"text-green-600 hover:text-green-800 p-2",title:"Ajouter",children:e.jsx(Ne,{size:16})})]},n.id))})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("button",{onClick:()=>H(!0),className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center justify-center hover:bg-blue-700 transition-colors",children:[e.jsx(Ne,{size:16,className:"mr-2"}),"Créer une nouvelle équipe"]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Groupes du tournoi"}),e.jsx("div",{className:"mb-4 p-2 bg-gray-50 border border-gray-200 rounded text-xs text-gray-600",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"État du tournoi:"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("span",{children:["Équipes: ",d.length]}),e.jsxs("span",{children:["Groupes: ",m.length]}),e.jsxs("span",{children:["Tirage: ",s.drawCompleted?"✓":"✗"]})]})]})}),m&&m.length>0||s.groups&&s.groups.length>0?m.map(n=>{var w;return e.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-bold",children:n.name}),e.jsx("button",{onClick:()=>ge(n),className:"text-blue-600 hover:text-blue-800",children:e.jsx(Se,{size:16})})]}),e.jsx("ul",{children:(w=n.groupTeams)==null?void 0:w.map(T=>{const v=i.find(ue=>ue.id===T.teamId);return e.jsxs("li",{className:"flex items-center py-1",children:[e.jsx("span",{className:"text-xl mr-2",children:v==null?void 0:v.logo}),v==null?void 0:v.name]},T.id||T.teamId)})})]},n.id)}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:s.drawCompleted?"Aucun groupe créé":"Tirage au sort non effectué"})]})]}),A==="players"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Joueurs (",t.length,")"]}),e.jsxs("button",{onClick:()=>le({id:"",name:"",position:"Milieu",level:3,age:25,teamId:C.length>0?C[0]:""}),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center",children:[e.jsx(Ne,{size:16,className:"mr-2"}),"Ajouter un joueur"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(t||[]).map((n,w)=>{var T;return e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h4",{className:"font-bold",children:n.name}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>le(n),className:"text-blue-600 hover:text-blue-800",children:e.jsx(Se,{size:16})}),e.jsx("button",{onClick:()=>U(n.id),className:"text-red-600 hover:text-red-800",children:e.jsx(Be,{size:16})})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Équipe: "}),((T=i.find(v=>v.id===n.teamId))==null?void 0:T.name)||"Aucune équipe"]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Poste: "}),n.position]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Niveau: "}),"⭐".repeat(n.level)]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Âge: "}),n.age]})]})]},n.id||w)})})]}),A==="groups"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Groupes du tournoi"}),m&&m.length>0&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:"Heure des matchs:"}),e.jsx("input",{type:"time",value:ne,onChange:n=>be(n.target.value),className:"mr-3 p-1 border rounded"}),e.jsxs("button",{onClick:()=>W(ne),className:"bg-green-600 text-white px-3 py-1 rounded flex items-center",children:[e.jsx(Me,{size:16,className:"mr-1"}),"Générer les matchs"]})]})]}),m&&m.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:(m||[]).map(n=>{var w;return e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"flex justify-between items-center mb-3",children:(de==null?void 0:de.id)===n.id?e.jsx("input",{type:"text",value:de.name,onChange:T=>ge({...de,name:T.target.value}),onBlur:()=>{E(n.id,de.name),ge(null)},className:"text-lg font-bold border-b border-gray-500 w-full",autoFocus:!0}):e.jsxs("h4",{className:"text-lg font-bold cursor-pointer",onClick:()=>ge(n),children:[n.name," ",e.jsx(Se,{size:14,className:"inline ml-2"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Équipes dans ce groupe:"}),e.jsx("ul",{className:"space-y-2",children:(w=n.groupTeams)==null?void 0:w.map((T,v)=>{var ue,fe;return e.jsxs("li",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:(ue=i.find(te=>te.id===T.teamId))==null?void 0:ue.logo}),e.jsx("span",{children:(fe=i.find(te=>te.id===T.teamId))==null?void 0:fe.name})]}),e.jsx("div",{className:"flex space-x-1",children:m.filter(te=>te.id!==n.id).map(te=>e.jsx("button",{onClick:()=>P(T.teamId,n.id,te.id),className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded hover:bg-blue-200",title:`Déplacer vers ${te.name}`,children:te.name.charAt(te.name.length-1)},te.id))})]},T.id||v)})})]})]},n.id)})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Classements des groupes"}),e.jsx("div",{className:"space-y-6",children:(m||[]).map(n=>e.jsx(gs,{group:n,teams:i},n.id))})]})]}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun groupe créé. Effectuez d'abord le tirage au sort dans l'onglet Équipes."})]}),A==="matches"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Matchs du tournoi"}),l.length===0&&m.length>0&&e.jsxs("button",{onClick:()=>W(ne),className:"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center",children:[e.jsx(Me,{size:16,className:"mr-2"}),"Générer les matchs"]})]}),l.length>0?e.jsx("div",{className:"space-y-4",children:(l||[]).map(n=>{const w=i.find(v=>v.id===n.homeTeam),T=i.find(v=>v.id===n.awayTeam);return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[new Date(n.date).toLocaleDateString()," - ",n.time]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs ${n.status==="scheduled"?"bg-blue-100 text-blue-800":n.status==="live"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:n.status==="scheduled"?"Programmé":n.status==="live"?"En direct":"Terminé"}),n.status==="live"&&e.jsxs("span",{className:"text-xs text-red-600 font-bold flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-600 rounded-full mr-1 animate-pulse"}),ve(n.id)||"0'"]}),e.jsxs("select",{value:n.status,onChange:v=>oe(n,v.target.value),className:"text-xs border border-gray-300 rounded px-1 py-1",children:[e.jsx("option",{value:"scheduled",children:"Programmé"}),e.jsx("option",{value:"live",children:"En direct"}),e.jsx("option",{value:"completed",children:"Terminé"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:w==null?void 0:w.logo}),e.jsx("span",{children:w==null?void 0:w.name})]}),e.jsx("div",{className:"text-xl font-bold mx-4 flex items-center space-x-2",children:M===n.id?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"number",min:"0",value:N.homeScore,onChange:v=>Q({...N,homeScore:parseInt(v.target.value,10)||0}),className:"w-16 text-center border border-gray-300 rounded-md px-2 py-1"}),e.jsx("span",{children:"-"}),e.jsx("input",{type:"number",min:"0",value:N.awayScore,onChange:v=>Q({...N,awayScore:parseInt(v.target.value,10)||0}),className:"w-16 text-center border border-gray-300 rounded-md px-2 py-1"}),e.jsxs("div",{className:"flex space-x-1 ml-2",children:[e.jsx("button",{onClick:()=>Le(n.id),className:"px-2 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"✓"}),e.jsx("button",{onClick:ze,className:"px-2 py-1 bg-red-600 text-white text-xs rounded hover:bg-red-700",children:"✕"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{children:[n.homeScore," - ",n.awayScore]}),e.jsx("button",{onClick:()=>ye(n),className:"ml-2 px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",title:"Modifier le score",children:"✏️"})]})}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{children:T==null?void 0:T.name}),e.jsx("span",{className:"text-xl ml-2",children:T==null?void 0:T.logo})]})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Groupe: "}),(()=>{const v=m.find(ue=>ue.id===n.groupId);return v?v.name:"N/A"})()]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Lieu: "}),n.venue?n.venue:"N/A"]}),n.status==="live"||n.status==="completed"?e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Tirs"}),e.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[Math.floor(Math.random()*10)+5," - ",Math.floor(Math.random()*10)+5]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Possession"}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:[Math.floor(Math.random()*30)+35,"% - ",Math.floor(Math.random()*30)+35,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Corners"}),e.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[Math.floor(Math.random()*8)+2," - ",Math.floor(Math.random()*8)+2]})]})]})}):null]},n.id)})}):m.length>0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:'Aucun match programmé. Cliquez sur "Générer les matchs" pour créer le calendrier.'}):e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Créez d'abord les groupes avant de générer les matchs."})]}),A==="settings"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Paramètres du tournoi"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du tournoi"}),e.jsx("input",{type:"text",value:c.name,onChange:n=>p({...c,name:n.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),e.jsx("input",{type:"date",value:c.startDate,onChange:n=>p({...c,startDate:n.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),e.jsx("input",{type:"date",value:c.endDate,onChange:n=>p({...c,endDate:n.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix"}),e.jsx("input",{type:"text",value:c.prize,onChange:n=>p({...c,prize:n.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stade"}),e.jsx("input",{type:"text",value:c.stadium,onChange:n=>p({...c,stadium:n.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Ex: Stade Municipal de Douz"})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{onClick:B,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700",children:"Enregistrer les modifications"})})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t mt-6",children:e.jsx("button",{onClick:a,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Fermer"})})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Tirage au sort"}),e.jsx("button",{onClick:()=>I(!1),className:"text-gray-500",children:e.jsx(je,{size:24})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de groupes"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:[2,3,4,6,8].map(n=>e.jsx("button",{onClick:()=>xe(n),className:`py-2 rounded-lg ${V===n?"bg-green-600 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:n},n))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Équipes participantes: ",d.length]}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-40 overflow-y-auto",children:(d||[]).map(n=>{const w=x.filter(v=>v.teamId===n.id),T=w.length>0?w.reduce((v,ue)=>v+ue.level,0)/w.length:0;return e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xl mr-2",children:n.logo}),e.jsx("span",{children:n.name})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[w.length," joueurs | Niveau: ",T.toFixed(1)]})]},n.id)})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>I(!1),className:"px-4 py-2 border border-gray-300 rounded-lg",children:"Annuler"}),e.jsx("button",{onClick:u,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",disabled:d.length<V,children:"Effectuer le tirage"})]})]})}),Z&&e.jsx(ps,{show:!!Z,onClose:()=>le(null),player:Z,setPlayer:le,onSubmit:async()=>{Z.id?await Y(Z):await J(Z),le(null)},t:z,teams:d}),e.jsx(bs,{show:$,onClose:()=>{H(!1),G({name:"",logo:"⚽",coach:"",players:[],wins:0,draws:0,losses:0,goals:0,goalsAgainst:0,matches:0,createdAt:new Date().toISOString(),averageLevel:3,playerLevels:{}})},team:L,setTeam:G,onSubmit:async()=>{await ce(L),H(!1),G({name:"",logo:"⚽",coach:"",players:[],wins:0,draws:0,losses:0,goals:0,goalsAgainst:0,matches:0,createdAt:new Date().toISOString(),averageLevel:3,playerLevels:{}})},t:z}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-lg max-h-[90vh] overflow-y-auto relative",children:[e.jsx("button",{onClick:()=>g(null),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700",title:"Fermer",children:e.jsx(je,{size:24})}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("span",{className:"text-4xl mr-3",children:h.logo}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:h.name}),e.jsxs("div",{className:"text-gray-500 text-sm",children:[x.filter(n=>n.teamId===h.id).length," joueurs"]})]}),e.jsx("button",{className:"ml-auto bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors",title:"Modifier l'équipe",children:"Modifier"})]}),e.jsx("hr",{className:"my-4"}),e.jsxs("h3",{className:"font-semibold mb-2 text-lg flex items-center",children:[e.jsx(pe,{className:"mr-2 text-blue-500",size:20})," Joueurs"]}),e.jsx("div",{className:"mb-6",children:h.players&&h.players.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:x.filter(n=>n.teamId===h.id).map(n=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 flex flex-col shadow-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:n.name}),e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:n.position}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:["Niveau : ",n.level]}),e.jsxs("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded",children:["Âge : ",n.age]})]})]},n.id))}):e.jsx("div",{className:"text-gray-400 italic",children:"Aucun joueur dans cette équipe."})}),e.jsx("hr",{className:"my-4"}),e.jsxs("h3",{className:"font-semibold mb-2 text-lg flex items-center",children:[e.jsx(Pe,{className:"mr-2 text-yellow-500",size:20})," Statistiques"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 flex flex-col items-center",children:[e.jsx("span",{className:"text-lg font-bold text-green-700",children:h.wins}),e.jsx("span",{className:"text-xs text-gray-500",children:"Victoires"})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-3 flex flex-col items-center",children:[e.jsx("span",{className:"text-lg font-bold text-red-700",children:h.losses}),e.jsx("span",{className:"text-xs text-gray-500",children:"Défaites"})]}),e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-3 flex flex-col items-center",children:[e.jsx("span",{className:"text-lg font-bold text-yellow-700",children:h.draws}),e.jsx("span",{className:"text-xs text-gray-500",children:"Nuls"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 flex flex-col items-center",children:[e.jsx("span",{className:"text-lg font-bold text-blue-700",children:h.goals}),e.jsx("span",{className:"text-xs text-gray-500",children:"Buts marqués"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 flex flex-col items-center",children:[e.jsx("span",{className:"text-lg font-bold text-purple-700",children:h.goalsAgainst}),e.jsx("span",{className:"text-xs text-gray-500",children:"Buts encaissés"})]}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-3 flex flex-col items-center",children:[e.jsx("span",{className:"text-lg font-bold text-gray-700",children:h.matches}),e.jsx("span",{className:"text-xs text-gray-500",children:"Matchs joués"})]}),e.jsxs("div",{className:"bg-indigo-50 rounded-lg p-3 flex flex-col items-center col-span-2",children:[e.jsx("span",{className:"text-lg font-bold text-indigo-700",children:h.averageLevel}),e.jsx("span",{className:"text-xs text-gray-500",children:"Niveau moyen"})]})]})]})})]}):null},js=()=>{var Q,se,K;const{user:r}=Ae(),{tournaments:a,teams:s,players:i,matches:x,createTournament:l,createTeam:m,generateDraw:S,generateGroupMatches:X,addPlayer:J,updateTournament:Y,loadData:U,updateMatchScore:R}=De(),{canEdit:D,canDelete:_,canCreate:O}=We();cs();const[W,ee]=b.useState(!1),[ce,y]=b.useState(!1),[k,z]=b.useState(!1),[A,F]=b.useState(null),[Z,le]=b.useState(!1),[o,I]=b.useState([]),[$,H]=b.useState(4),[L,G]=b.useState({name:"",logo:"🏆",startDate:"",endDate:"",prize:"",rules:"",stadium:"",status:"upcoming",tournamentTeams:[],matches:[],drawCompleted:!1,numberOfGroups:2,teamsPerGroup:4,groups:[],freePlayers:[]}),V=["🏆","🥇","⚽","🏅","🎯","🔥","⭐","💎","👑","🌟"],{t:xe,isRTL:de,language:ge}=Ee(),ne=ge==="ar",be={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.8,staggerChildren:.1}}};if(b.useEffect(()=>{W||G({name:"",logo:"🏆",startDate:"",endDate:"",prize:"",rules:"",stadium:"",status:"upcoming",tournamentTeams:[],matches:[],drawCompleted:!1,numberOfGroups:2,teamsPerGroup:4,groups:[],freePlayers:[]})},[W]),!r)return e.jsx(_e,{to:"/login",replace:!0});const c=async d=>{if(d.preventDefault(),console.log("🏆 Tentative de création de tournoi:",{newTournament:L,user:r==null?void 0:r.name,userId:r==null?void 0:r.id}),!L.name||!L.startDate||!L.endDate){console.error("❌ Champs requis manquants:",{name:L.name,startDate:L.startDate,endDate:L.endDate}),alert("Veuillez remplir tous les champs requis (nom, date de début, date de fin)");return}try{const j={name:L.name,logo:L.logo,startDate:L.startDate,endDate:L.endDate,prize:L.prize,rules:L.rules,stadium:L.stadium,numberOfGroups:L.numberOfGroups||2,teamsPerGroup:L.teamsPerGroup||4};console.log("📤 Données envoyées au serveur:",j);const C=await l(j);console.log("✅ Tournoi créé avec succès:",C),ee(!1)}catch(j){console.error("❌ Failed to create tournament:",j),alert("Erreur lors de la création du tournoi. Vérifiez les données saisies.")}},p=async(d,j)=>{var C,t;try{await S(d,"groupes",j),y(!1),console.log("Tirage au sort terminé avec succès"),console.log("Rechargement des données après tirage au sort..."),await U(),A===d&&await f(d);const u=a.find(E=>E.id===d);console.log("Tournoi mis à jour après tirage:",{id:u==null?void 0:u.id,name:u==null?void 0:u.name,drawCompleted:u==null?void 0:u.drawCompleted,groupsLength:((C=u==null?void 0:u.groups)==null?void 0:C.length)||0,teamsLength:((t=u==null?void 0:u.tournamentTeams)==null?void 0:t.length)||0}),console.log("Données rechargées avec succès")}catch(u){console.error("Erreur lors du tirage au sort:",u)}},h=async d=>{try{await X(d),console.log("Matchs générés avec succès")}catch(j){console.error("Erreur lors de la génération des matchs:",j)}},g=a.find(d=>d.id===A)||null,M=async d=>{var j,C,t,u,E,P;if(g){console.log("Ajouter équipe au tournoi:",d),console.log("Équipes disponibles:",s.map(B=>({id:B.id,name:B.name}))),console.log("Équipes dans le tournoi:",((j=g.tournamentTeams)==null?void 0:j.map(B=>({id:B.id,teamId:B.teamId})))||[]),console.log("Équipes dans le tournoi (avant ajout):",g.tournamentTeams),console.log("ID de l'équipe à ajouter:",d);try{if(!s.find(oe=>oe.id===d)){console.error("Équipe non trouvée:",d);return}if((Array.isArray(g.tournamentTeams)?g.tournamentTeams:[]).some(oe=>{var ve;return((ve=oe.team)==null?void 0:ve.id)===d||oe.teamId===d})){console.log("Équipe déjà dans le tournoi (vérification frontend)"),alert("Cette équipe est déjà inscrite au tournoi"),await U();return}const{axiosInstance:ze}=await me(async()=>{const{axiosInstance:oe}=await import("./pages-admin-B5rhJhc1.js").then(ve=>ve.d);return{axiosInstance:oe}},__vite__mapDeps([0,1,2,3]));console.log("Ajout d'équipe via axios:",{tournamentId:g.id,teamId:d});try{const oe=await ze.post(`/tournaments/${g.id}/teams`,{teamId:d});console.log("Équipe ajoutée au tournoi avec succès:",oe.data),console.log("Récupération des données du tournoi depuis la BD..."),await f(g.id),console.log("Rechargement terminé")}catch(oe){if(console.error("Erreur axios:",(C=oe.response)==null?void 0:C.data),((u=(t=oe.response)==null?void 0:t.data)==null?void 0:u.message)==="Cette équipe est déjà inscrite au tournoi"){console.log("Équipe déjà inscrite - rechargement des données..."),alert("Cette équipe est déjà inscrite au tournoi"),await U();return}throw alert(`Erreur lors de l'ajout de l'équipe: ${((P=(E=oe.response)==null?void 0:E.data)==null?void 0:P.message)||"Erreur inconnue"}`),oe}}catch(B){console.error("Erreur lors de l'ajout de l'équipe au tournoi:",B)}}},f=async d=>{try{const{axiosInstance:j}=await me(async()=>{const{axiosInstance:t}=await import("./pages-admin-B5rhJhc1.js").then(u=>u.d);return{axiosInstance:t}},__vite__mapDeps([0,1,2,3]));console.log("Récupération du tournoi depuis la BD:",d);const C=await j.get(`/tournaments/${d}`);if(C.data.success){console.log("Données du tournoi récupérées:",C.data.data);const t=C.data.data;F(null),setTimeout(()=>{F(d)},100),await U(),console.log("Données du tournoi mises à jour")}else console.error("Erreur lors de la récupération du tournoi:",C.data),await U()}catch(j){console.error("Erreur lors de la récupération du tournoi:",j),console.log("Utilisation de loadData() comme fallback..."),await U()}},N=async d=>{if(window.confirm("Voulez-vous vraiment supprimer ce tournoi ?"))try{const{axiosInstance:j}=await me(async()=>{const{axiosInstance:C}=await import("./pages-admin-B5rhJhc1.js").then(t=>t.d);return{axiosInstance:C}},__vite__mapDeps([0,1,2,3]));await j.delete(`/tournaments/${d}`),await U()}catch(j){alert("Erreur lors de la suppression du tournoi."),console.error(j)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-orange-50 to-red-50 dark:from-slate-900 dark:via-orange-900 dark:to-red-900",children:[e.jsx(Ke,{}),e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-orange-600 via-red-600 to-pink-800",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"absolute inset-0 bg-grid-white/10"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs(q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[e.jsx(q.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.6,delay:.2},className:"inline-flex items-center justify-center w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full mb-8 shadow-2xl",children:e.jsx(he,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-6 leading-tight",children:e.jsx("span",{className:"bg-gradient-to-r from-white via-orange-100 to-white bg-clip-text text-transparent",children:ne?"7OUMA البطولات":"7OUMA Tournois"})}),e.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed mb-8",children:ne?"أنشئ وأدر بطولات كرة القدم المثيرة":"Créez et gérez vos tournois de football passionnants"}),O&&e.jsxs(q.button,{onClick:()=>ee(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center px-8 py-4 bg-white text-orange-600 font-bold text-lg rounded-2xl shadow-2xl hover:shadow-white/25 transition-all duration-300",children:[e.jsx(Ne,{className:"w-6 h-6 mr-2"}),ne?"إنشاء بطولة جديدة":"Créer un tournoi"]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx(q.div,{variants:be,initial:"hidden",animate:"visible",className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(d=>e.jsx(ds,{tournament:d,user:r,t:xe,isRTL:de,canEdit:D,canDelete:_,onDrawClick:()=>{F(d.id),y(!0)},onManageClick:()=>{F(d.id),z(!0)},onDelete:N,onDetails:()=>{F(d.id),z(!0)},onShowPlayers:()=>{F(d.id),I((Array.isArray(d.tournamentTeams)?d.tournamentTeams:[]).flatMap(j=>{var C;return Array.isArray((C=j.team)==null?void 0:C.players)?j.team.players:[]})),le(!0)},onManage:()=>{F(d.id),z(!0)}},d.id))}),a.length===0&&e.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-20",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-12 border border-white/20",children:[e.jsx(he,{size:80,className:"mx-auto text-gray-400 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-600 mb-4",children:ne?"لا توجد بطولات":"Aucun tournoi créé"}),e.jsx("p",{className:"text-gray-500 text-lg",children:ne?"أنشئ بطولتك الأولى للبدء":"Créez votre premier tournoi pour commencer"})]})})]}),Z&&A&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl",children:[e.jsx("h2",{className:"text-xl font-bold mb-6 text-gray-900",children:ne?"لاعبو البطولة":"Joueurs du tournoi"}),e.jsx("ul",{className:"space-y-4",children:(Array.isArray((Q=a.find(d=>d.id===A))==null?void 0:Q.tournamentTeams)?((se=a.find(d=>d.id===A))==null?void 0:se.tournamentTeams)||[]:[]).map((d,j)=>{const C=d.team||d;return e.jsxs("li",{children:[e.jsx("div",{className:"font-bold text-gray-700",children:C.name}),e.jsx("ul",{className:"ml-4 list-disc text-gray-600 text-sm",children:Array.isArray(C.players)&&C.players.length>0?C.players.map((t,u)=>e.jsx("li",{children:t.name},t.id||u)):e.jsx("li",{className:"text-gray-400",children:"Aucun joueur"})})]},C.id||j)})}),e.jsx("button",{className:"mt-6 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-2xl hover:from-orange-600 hover:to-red-700 transition-all duration-300 font-semibold shadow-lg",onClick:()=>le(!1),children:ne?"إغلاق":"Fermer"})]})}),e.jsx(us,{show:W,onClose:()=>ee(!1),newTournament:L,setNewTournament:G,logoOptions:V,onSubmit:c,t:xe,isRTL:de}),e.jsx(hs,{show:ce,onClose:()=>y(!1),onConfirm:()=>A&&p(A,$),t:xe,numberOfGroups:$,setNumberOfGroups:H}),g&&e.jsx(fs,{show:k,onClose:()=>z(!1),tournament:g,teams:s,players:i,matches:x.filter(d=>d.tournamentId===g.id),groups:((K=a.find(d=>d.id===A))==null?void 0:K.groups)||[],onAddTeam:M,onRemoveTeam:async d=>{var j;if(g){console.log("Supprimer équipe du tournoi:",d);try{const{axiosInstance:C}=await me(async()=>{const{axiosInstance:t}=await import("./pages-admin-B5rhJhc1.js").then(u=>u.d);return{axiosInstance:t}},__vite__mapDeps([0,1,2,3]));console.log("Suppression d'équipe via axios:",{tournamentId:g.id,teamId:d}),await C.delete(`/tournaments/${g.id}/teams/${d}`),console.log("Équipe supprimée du tournoi avec succès"),await U(),F(null),setTimeout(()=>F(g.id),0)}catch(C){console.error("Erreur lors de la suppression de l'équipe du tournoi:",((j=C.response)==null?void 0:j.data)||C)}}},onAddPlayer:d=>{console.log("Données du joueur à envoyer:",d);const j={name:d.name,position:d.position,level:d.level,age:d.age,teamId:d.teamId||void 0,jerseyNumber:d.jerseyNumber||void 0};console.log("Données nettoyées:",j),J(j)},onUpdatePlayer:d=>{console.log("Mettre à jour joueur:",d);const j={name:d.name,position:d.position,level:d.level,age:d.age,teamId:d.teamId||void 0,jerseyNumber:d.jerseyNumber||void 0};console.log("Données nettoyées pour mise à jour:",j),fetch(`/api/players/${d.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(j)}).then(C=>C.json()).then(C=>{console.log("Joueur mis à jour:",C),window.location.reload()}).catch(C=>{console.error("Erreur lors de la mise à jour du joueur:",C)})},onRemovePlayer:d=>{console.log("Supprimer joueur:",d),fetch(`/api/players/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(j=>{j.ok?(console.log("Joueur supprimé avec succès"),window.location.reload()):console.error("Erreur lors de la suppression:",j.status)}).catch(j=>{console.error("Erreur lors de la suppression du joueur:",j)})},onAddMatch:d=>{console.log("Ajouter match:",d)},onPerformDraw:d=>{A&&p(A,d)},onUpdateGroup:d=>{console.log("Mettre à jour groupe:",d)},onUpdateGroups:d=>{console.log("Mettre à jour groupes:",d)},onGenerateMatches:d=>{A&&h(A)},onUpdateTournament:d=>{console.log("Mettre à jour tournoi:",d)},onCreateTeam:async d=>{console.log("Créer équipe:",d);try{const j=await m(d);console.log("Équipe créée:",j)}catch(j){console.error("Erreur lors de la création de l'équipe:",j)}},onRefreshData:async()=>{console.log("Rechargement manuel des données..."),g?await f(g.id):await U()},onUpdateMatchScore:async(d,j,C)=>{try{await R(d,j,C),console.log("Score mis à jour avec succès")}catch(t){throw console.error("Erreur lors de la mise à jour du score:",t),t}}})]})},Gs=Object.freeze(Object.defineProperty({__proto__:null,default:js},Symbol.toStringTag,{value:"Module"})),ys=[{key:"all",label:"TOUS",icon:e.jsx(he,{size:16}),gradient:"from-purple-500 to-pink-500"},{key:"live",label:"EN DIRECT",icon:e.jsx(Ce,{size:16}),gradient:"from-red-500 to-orange-500"},{key:"scheduled",label:"PROGRAMMÉS",icon:e.jsx(Te,{size:16}),gradient:"from-blue-500 to-cyan-500"},{key:"finished",label:"TERMINÉS",icon:e.jsx($e,{size:16}),gradient:"from-green-500 to-emerald-500"}],vs=[{key:"all",label:"TOUS LES ROUNDS",icon:e.jsx(he,{size:16}),gradient:"from-purple-500 to-pink-500"},{key:"groupes",label:"PHASE DE GROUPES",icon:e.jsx(pe,{size:16}),gradient:"from-blue-500 to-cyan-500"},{key:"quarters",label:"1/4 DE FINALE",icon:e.jsx(Ie,{size:16}),gradient:"from-purple-500 to-indigo-500"},{key:"semis",label:"1/2 FINALE",icon:e.jsx(Pe,{size:16}),gradient:"from-orange-500 to-red-500"},{key:"finale",label:"FINALE",icon:e.jsx(he,{size:16}),gradient:"from-yellow-500 to-orange-500"}],Ns=()=>{const{user:r}=Ae(),{matches:a,teams:s,players:i,tournaments:x,addMatch:l,updateMatchScore:m,loadData:S,generateDraw:X}=De(),{t:J,isRTL:Y,language:U}=Ee(),R=U==="ar",D={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.8,staggerChildren:.1}}},_={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6,ease:"easeOut"}}},[O,W]=b.useState("all"),[ee,ce]=b.useState("all"),[y,k]=b.useState(!1),[z,A]=b.useState(null),[F,Z]=b.useState(null),[le,o]=b.useState({homeTeam:"",awayTeam:"",homeScore:0,awayScore:0,date:"",time:"",status:"scheduled",type:"friendly",venue:""});if(!r)return e.jsx(_e,{to:"/login",replace:!0});const I=a.filter(t=>{var P;const u=O==="all"||t.status===O,E=ee==="all"||((P=t.round)==null?void 0:P.toLowerCase())===ee;return u&&E}).filter((t,u,E)=>u===E.findIndex(P=>P.id===t.id)).filter((t,u,E)=>u===E.findIndex(P=>P.homeTeam===t.homeTeam&&P.awayTeam===t.awayTeam&&P.date===t.date)),$=t=>{var E;if(!t.groupId)return"Phase finale";const u=x.find(P=>{var B;return(B=P.groups)==null?void 0:B.some(ye=>ye.id===t.groupId)});if(u){const P=(E=u.groups)==null?void 0:E.find(B=>B.id===t.groupId);return(P==null?void 0:P.name)||"Groupe inconnu"}return"Groupe inconnu"},H=I.sort((t,u)=>{const E=new Date(t.date),P=new Date(u.date);if(E.getTime()!==P.getTime())return E.getTime()-P.getTime();const B=$(t),ye=$(u);return B.localeCompare(ye)}),L=t=>{const u=new Date(t.date),E=new Date,P=u.getTime()-E.getTime(),B=Math.ceil(P/(1e3*60*60*24));return Math.max(1,B+1)};console.log("Total matches:",a.length),console.log("Filtered matches:",I.length),console.log("Sorted matches:",H.length);const G=()=>{const t=a.length,u=a.filter(B=>B.status==="completed").length,E=a.filter(B=>B.status==="live").length,P=a.filter(B=>B.status==="scheduled").length;return{total:t,completed:u,live:E,scheduled:P,percentage:t>0?Math.round(u/t*100):0}},V=t=>{const u=s.find(E=>E.id===t);return(u==null?void 0:u.name)||"Équipe inconnue"},xe=t=>{const u=i.filter(P=>P.teamId===t);if(u.length===0)return 0;const E=u.reduce((P,B)=>P+(B.level||0),0);return Math.round(E/u.length)},de=t=>{switch(t){case"live":return e.jsx(Ce,{size:16,className:"text-red-500"});case"completed":return e.jsx($e,{size:16,className:"text-green-500"});case"scheduled":return e.jsx(Te,{size:16,className:"text-blue-500"});default:return e.jsx(Te,{size:16,className:"text-gray-500"})}},ge=t=>{switch(t){case"live":return"En direct";case"completed":return"Terminé";case"scheduled":return"Programmé";default:return"Inconnu"}},ne=t=>{switch(t){case"live":return"text-red-500 bg-red-50 border-red-200";case"completed":return"text-green-500 bg-green-50 border-green-200";case"scheduled":return"text-blue-500 bg-blue-50 border-blue-200";default:return"text-gray-500 bg-gray-50 border-gray-200"}},be=t=>e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border ${ne(t)}`,children:[de(t),e.jsx("span",{className:"ml-1",children:ge(t)})]}),[c,p]=b.useState(null),[h,g]=b.useState(0),[M,f]=b.useState(!1),N=t=>{const u=Math.floor(t/60),E=t%60;return`${u.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`},Q=t=>t<=45?"Première mi-temps":t<=90?"Deuxième mi-temps":t<=105?"Prolongations 1ère mi-temps":t<=120?"Prolongations 2ème mi-temps":"Tirs au but",se=async(t,u)=>{try{u==="live"?(p(t),g(0),f(!0),console.log(`Match ${t.id} démarré en live`)):u==="completed"&&(f(!1),p(null),g(0),console.log(`Match ${t.id} terminé`)),await m(t.id,t.homeScore||0,t.awayScore||0)}catch(E){console.error("Erreur lors du changement de statut:",E)}},K=async(t,u,E)=>{try{await m(t,u,E),c&&c.id===t&&p({...c,homeScore:u,awayScore:E})}catch(P){console.error("Erreur lors de la mise à jour du score:",P)}},d=(t,u)=>{if(!c)return;const E={type:t,team:u,time:h,timestamp:new Date().toISOString()};console.log("Événement de match:",E)},j=async()=>{if(c)try{const{updateMatch:t}=await me(async()=>{const{updateMatch:u}=await import("./pages-admin-B5rhJhc1.js").then(E=>E.d);return{updateMatch:u}},__vite__mapDeps([0,1,2,3]));await t(c.id,{...c,matchTime:h}),console.log("Temps de match sauvegardé:",N(h))}catch(t){console.error("Erreur lors de la sauvegarde du temps:",t)}},C=t=>e.jsxs("div",{className:`relative group transition-all duration-300 transform hover:scale-105 ${F===t.id?"z-10":""}`,onMouseEnter:()=>Z(t.id),onMouseLeave:()=>Z(null),children:[F===t.id&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse rounded-xl"}),e.jsxs("div",{className:"relative bg-white/80 backdrop-blur-sm border border-white/20 rounded-2xl p-6 shadow-lg hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-white font-bold text-lg",children:L(t)}),e.jsx("div",{children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-blue-500 to-cyan-500 text-white",children:$(t)})})]}),be(t.status)]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:V(t.homeTeam)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Niveau: ",xe(t.homeTeam)]})]}),e.jsxs("div",{className:"mx-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"VS"}),t.homeScore!==null&&t.awayScore!==null&&e.jsxs("div",{className:"text-xl font-bold text-gray-900 mt-1",children:[t.homeScore," - ",t.awayScore]})]}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:V(t.awayTeam)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Niveau: ",xe(t.awayTeam)]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ye,{size:14}),e.jsx("span",{children:new Date(t.date).toLocaleDateString("fr-FR")})]}),t.time&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(es,{size:14}),e.jsx("span",{children:t.time})]})]}),r.role==="admin"&&e.jsx("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>A(t),className:"p-2 bg-blue-500/10 hover:bg-blue-500/20 rounded-lg transition-colors",title:"Modifier le match",children:e.jsx(Se,{size:16,className:"text-blue-600"})}),e.jsx("button",{onClick:()=>window.location.href=`/live-match/${t.id}`,className:"p-2 bg-red-500/10 hover:bg-red-500/20 rounded-lg transition-colors",title:"Match en direct",children:e.jsx(Ce,{size:16,className:"text-red-600"})}),t.status==="scheduled"&&e.jsx("button",{onClick:()=>se(t,"live"),className:"p-2 bg-green-500/10 hover:bg-green-500/20 rounded-lg transition-colors",title:"Démarrer le match",children:e.jsx(Ge,{size:16,className:"text-green-600"})}),t.status==="live"&&e.jsx("button",{onClick:()=>se(t,"completed"),className:"p-2 bg-red-500/10 hover:bg-red-500/20 rounded-lg transition-colors",title:"Terminer le match",children:e.jsx(Ue,{size:16,className:"text-red-600"})})]})}),r.role==="admin"&&t.status==="live"&&(c==null?void 0:c.id)===t.id&&e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-bold text-red-700",children:"MATCH EN DIRECT"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>g(u=>Math.max(0,u-30)),className:"w-8 h-8 bg-gray-500 text-white rounded-full flex items-center justify-center hover:bg-gray-600",title:"Reculer de 30 secondes",children:"-30s"}),e.jsx("button",{onClick:()=>g(u=>Math.max(0,u-1)),className:"w-8 h-8 bg-gray-500 text-white rounded-full flex items-center justify-center hover:bg-gray-600",title:"Reculer de 1 seconde",children:"-1s"})]}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:N(h)}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>g(u=>u+1),className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center hover:bg-blue-600",title:"Avancer de 1 seconde",children:"+1s"}),e.jsx("button",{onClick:()=>g(u=>u+30),className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center hover:bg-blue-600",title:"Avancer de 30 secondes",children:"+30s"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-sm text-red-600",children:Q(h)}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>g(0),className:"px-3 py-1 bg-green-500 text-white rounded-lg text-xs font-medium hover:bg-green-600",title:"Début de match",children:"Début"}),e.jsx("button",{onClick:()=>g(45*60),className:"px-3 py-1 bg-yellow-500 text-white rounded-lg text-xs font-medium hover:bg-yellow-600",title:"Mi-temps",children:"Mi-temps"}),e.jsx("button",{onClick:()=>g(90*60),className:"px-3 py-1 bg-orange-500 text-white rounded-lg text-xs font-medium hover:bg-orange-600",title:"Fin du temps réglementaire",children:"Fin 90'"}),e.jsx("button",{onClick:()=>g(120*60),className:"px-3 py-1 bg-red-500 text-white rounded-lg text-xs font-medium hover:bg-red-600",title:"Fin des prolongations",children:"Fin 120'"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:V(t.homeTeam)}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-2",children:[e.jsx("button",{onClick:()=>K(t.id,(t.homeScore||0)-1,t.awayScore||0),className:"w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600",disabled:(t.homeScore||0)<=0,children:"-"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900 w-8 text-center",children:t.homeScore||0}),e.jsx("button",{onClick:()=>K(t.id,(t.homeScore||0)+1,t.awayScore||0),className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center hover:bg-green-600",children:"+"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:V(t.awayTeam)}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-2",children:[e.jsx("button",{onClick:()=>K(t.id,t.homeScore||0,(t.awayScore||0)-1),className:"w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600",disabled:(t.awayScore||0)<=0,children:"-"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900 w-8 text-center",children:t.awayScore||0}),e.jsx("button",{onClick:()=>K(t.id,t.homeScore||0,(t.awayScore||0)+1),className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center hover:bg-green-600",children:"+"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("button",{onClick:()=>d("goal","home"),className:"px-3 py-2 bg-green-500 text-white rounded-lg text-sm font-medium hover:bg-green-600",children:["🥅 But ",V(t.homeTeam)]}),e.jsxs("button",{onClick:()=>d("goal","away"),className:"px-3 py-2 bg-green-500 text-white rounded-lg text-sm font-medium hover:bg-green-600",children:["🥅 But ",V(t.awayTeam)]}),e.jsxs("button",{onClick:()=>d("yellow_card","home"),className:"px-3 py-2 bg-yellow-500 text-white rounded-lg text-sm font-medium hover:bg-yellow-600",children:["🟨 Carton ",V(t.homeTeam)]}),e.jsxs("button",{onClick:()=>d("yellow_card","away"),className:"px-3 py-2 bg-yellow-500 text-white rounded-lg text-sm font-medium hover:bg-yellow-600",children:["🟨 Carton ",V(t.awayTeam)]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:j,className:"px-4 py-2 bg-purple-500 text-white rounded-lg text-sm font-medium hover:bg-purple-600",title:"Sauvegarder le temps actuel",children:["💾 Sauvegarder le temps (",N(h),")"]})})]})]})]},t.id);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50 p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-3xl p-8 shadow-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center",children:e.jsx(he,{size:32,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:R?"7OUMA المباريات":"7OUMA Matches"}),e.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:R?"إدارة ومتابعة المباريات":"Gestion et suivi des rencontres"})]})]}),r.role==="admin"&&e.jsxs(q.button,{onClick:()=>k(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-300 flex items-center space-x-3 shadow-2xl hover:shadow-3xl",children:[e.jsx(Ne,{size:24}),e.jsx("span",{children:R?"مباراة جديدة":"Nouveau Match"})]})]}),e.jsxs(q.div,{variants:D,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx(q.div,{variants:_,className:"bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl p-6 text-white hover:scale-105 transition-transform duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm font-medium",children:R?"المجموع":"Total"}),e.jsx("p",{className:"text-3xl font-bold",children:G().total})]}),e.jsx(Qe,{size:32,className:"text-blue-200"})]})}),e.jsx(q.div,{variants:_,className:"bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl p-6 text-white hover:scale-105 transition-transform duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm font-medium",children:R?"منتهية":"Terminés"}),e.jsx("p",{className:"text-3xl font-bold",children:G().completed})]}),e.jsx($e,{size:32,className:"text-green-200"})]})}),e.jsx(q.div,{variants:_,className:"bg-gradient-to-br from-red-500 to-orange-500 rounded-2xl p-6 text-white hover:scale-105 transition-transform duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-red-100 text-sm font-medium",children:R?"مباشر":"En Direct"}),e.jsx("p",{className:"text-3xl font-bold",children:G().live})]}),e.jsx(Ce,{size:32,className:"text-red-200"})]})}),e.jsx(q.div,{variants:_,className:"bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl p-6 text-white hover:scale-105 transition-transform duration-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm font-medium",children:R?"التقدم":"Progression"}),e.jsxs("p",{className:"text-3xl font-bold",children:[G().percentage,"%"]})]}),e.jsx(Xe,{size:32,className:"text-purple-200"})]})})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl p-6 shadow-lg border border-white/20",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[e.jsx(qe,{size:20,className:"text-purple-500"}),e.jsx("span",{children:"Filtres"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Statut"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:ys.map(t=>e.jsxs("button",{onClick:()=>W(t.key),className:`px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 flex items-center space-x-2 ${O===t.key?`bg-gradient-to-r ${t.gradient} text-white shadow-lg transform scale-105`:"bg-white/50 text-gray-700 hover:bg-white/80 border border-gray-200"}`,children:[t.icon,e.jsx("span",{children:t.label})]},t.key))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Phase"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:vs.map(t=>e.jsxs("button",{onClick:()=>ce(t.key),className:`px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 flex items-center space-x-2 ${ee===t.key?`bg-gradient-to-r ${t.gradient} text-white shadow-lg transform scale-105`:"bg-white/50 text-gray-700 hover:bg-white/80 border border-gray-200"}`,children:[t.icon,e.jsx("span",{children:t.label})]},t.key))})]})]})}),e.jsxs("div",{className:"space-y-6",children:[H.length===0&&e.jsxs("div",{className:"text-center py-16 bg-white/70 backdrop-blur-md rounded-3xl shadow-lg border border-white/20",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(he,{size:48,className:"text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Aucun match à afficher"}),e.jsx("p",{className:"text-gray-500",children:"Modifiez les filtres pour voir les matchs disponibles"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(t=>C(t))})]})]})},Is=Object.freeze(Object.defineProperty({__proto__:null,default:Ns},Symbol.toStringTag,{value:"Module"}));class ws{constructor(){ke(this,"listeners",new Map);ke(this,"matchStates",new Map);ke(this,"pollingIntervals",new Map)}subscribe(a,s){return this.listeners.has(a)||this.listeners.set(a,[]),this.listeners.get(a).push(s),this.pollingIntervals.has(a)||this.startPolling(a),()=>{var x;const i=this.listeners.get(a);if(i){const l=i.indexOf(s);l>-1&&i.splice(l,1)}((x=this.listeners.get(a))==null?void 0:x.length)===0&&this.stopPolling(a)}}startPolling(a){const s=setInterval(async()=>{try{const i=await fetch(`/api/live-matches/${a}/state`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(i.ok){const x=await i.json(),l={matchId:a,isLive:x.data.liveState.isLive,isPaused:x.data.liveState.isPaused,matchTime:x.data.liveState.matchTime,homeScore:x.data.liveState.homeScore,awayScore:x.data.liveState.awayScore,events:x.data.events||[]};this.emit(a,l)}}catch(i){console.error("Erreur lors du polling:",i)}},2e3);this.pollingIntervals.set(a,s)}stopPolling(a){const s=this.pollingIntervals.get(a);s&&(clearInterval(s),this.pollingIntervals.delete(a))}emit(a,s){this.matchStates.set(a,s);const i=this.listeners.get(a);i&&i.forEach(x=>x(s))}getState(a){return this.matchStates.get(a)}async addEvent(a,s){try{(await fetch(`/api/live-matches/${a}/events`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({type:s.type,minute:s.minute,playerId:s.playerId,playerName:s.playerName,team:s.team,description:s.description})})).ok&&console.log("Événement ajouté avec succès")}catch(i){console.error("Erreur lors de l'ajout de l'événement:",i)}}async updateMatchTime(a,s){try{const i=await fetch(`/api/live-matches/${a}/time`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({matchTime:s})});if(i.ok){const x=await i.json(),l={matchId:a,isLive:x.data.isLive,isPaused:x.data.isPaused,matchTime:x.data.matchTime,homeScore:x.data.homeScore,awayScore:x.data.awayScore,events:[]};this.emit(a,l)}}catch(i){console.error("Erreur lors de la mise à jour du temps:",i)}}updateScore(a,s,i){const x=this.getState(a);if(x){const l={...x,homeScore:s,awayScore:i};this.emit(a,l)}}async startMatch(a){try{const s=await fetch(`/api/live-matches/${a}/start`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(s.ok){const i=await s.json(),x={matchId:a,isLive:i.data.isLive,isPaused:i.data.isPaused,matchTime:i.data.matchTime,homeScore:i.data.homeScore,awayScore:i.data.awayScore,events:[]};this.emit(a,x)}}catch(s){console.error("Erreur lors du démarrage du match:",s)}}async togglePause(a){try{const s=await fetch(`/api/live-matches/${a}/pause`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(s.ok){const i=await s.json(),x={matchId:a,isLive:i.data.isLive,isPaused:i.data.isPaused,matchTime:i.data.matchTime,homeScore:i.data.homeScore,awayScore:i.data.awayScore,events:[]};this.emit(a,x)}}catch(s){console.error("Erreur lors de la pause du match:",s)}}async endMatch(a){try{const s=await fetch(`/api/live-matches/${a}/end`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(s.ok){const i=await s.json(),x={matchId:a,isLive:i.data.isLive,isPaused:i.data.isPaused,matchTime:i.data.matchTime,homeScore:i.data.homeScore,awayScore:i.data.awayScore,events:[]};this.emit(a,x)}}catch(s){console.error("Erreur lors de la fin du match:",s)}}initializeMatch(a,s=0,i=0){const x={matchId:a,isLive:!1,isPaused:!1,matchTime:0,events:[],homeScore:s,awayScore:i};this.emit(a,x)}}const ie=new ws,Ss=({matchId:r})=>{const{user:a}=Ae(),{matches:s,teams:i,players:x}=De(),[l,m]=b.useState(null),[S,X]=b.useState(""),[J,Y]=b.useState("goal"),[U,R]=b.useState("home"),D=s.find(o=>o.id===r),_=i.find(o=>o.id===(D==null?void 0:D.homeTeam)),O=i.find(o=>o.id===(D==null?void 0:D.awayTeam)),W=x.filter(o=>o.teamId===(D==null?void 0:D.homeTeam)),ee=x.filter(o=>o.teamId===(D==null?void 0:D.awayTeam));b.useEffect(()=>{if(D)return ie.getState(r)||ie.initializeMatch(r,D.homeScore||0,D.awayScore||0),ie.subscribe(r,$=>{m($)})},[r,D]),b.useEffect(()=>{let o;return l!=null&&l.isLive&&!(l!=null&&l.isPaused)&&(o=setInterval(()=>{ie.updateMatchTime(r,((l==null?void 0:l.matchTime)||0)+1)},1e3)),()=>clearInterval(o)},[l==null?void 0:l.isLive,l==null?void 0:l.isPaused,r]);const ce=o=>{const I=Math.floor(o/60),$=o%60;return`${I.toString().padStart(2,"0")}:${$.toString().padStart(2,"0")}`},y=o=>o<=45?"Première mi-temps":o<=90?"Deuxième mi-temps":o<=105?"Prolongations 1ère mi-temps":o<=120?"Prolongations 2ème mi-temps":"Tirs au but",k=async()=>{await ie.startMatch(r)},z=async()=>{await ie.togglePause(r)},A=async()=>{await ie.endMatch(r)},F=async()=>{if(!S)return;const o=x.find(H=>H.id===S),I=U==="home"?_==null?void 0:_.name:O==null?void 0:O.name,$={id:Date.now().toString(),type:J,minute:Math.floor(((l==null?void 0:l.matchTime)||0)/60),playerId:S,playerName:o==null?void 0:o.name,team:U,description:`${J==="goal"?"🥅 But":J==="yellow_card"?"🟨 Carton jaune":J==="red_card"?"🟥 Carton rouge":"🔄 Remplacement"} - ${o==null?void 0:o.name} (${I})`,timestamp:new Date,matchId:r};await ie.addEvent(r,$),X(""),console.log("Événement ajouté:",$)},Z=o=>{switch(o){case"goal":return"🥅";case"yellow_card":return"🟨";case"red_card":return"🟥";case"substitution":return"🔄";default:return"📝"}},le=o=>{switch(o){case"goal":return"bg-green-500";case"yellow_card":return"bg-yellow-500";case"red_card":return"bg-red-500";case"substitution":return"bg-blue-500";default:return"bg-gray-500"}};return D?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50 p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-3xl p-8 shadow-xl border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-orange-600 rounded-2xl flex items-center justify-center",children:e.jsx(Ce,{size:32,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-red-600 to-orange-600 bg-clip-text text-transparent",children:"Match en Direct"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[_==null?void 0:_.name," vs ",O==null?void 0:O.name]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`px-4 py-2 rounded-full text-sm font-medium ${l!=null&&l.isLive?"bg-red-500 text-white":"bg-gray-500 text-white"}`,children:l!=null&&l.isLive?"EN DIRECT":"EN ATTENTE"}),(l==null?void 0:l.isPaused)&&e.jsx("div",{className:"px-4 py-2 bg-yellow-500 text-white rounded-full text-sm font-medium",children:"PAUSE"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-8 items-center",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:_==null?void 0:_.name}),e.jsx("div",{className:"text-4xl font-bold text-gray-900",children:(l==null?void 0:l.homeScore)||D.homeScore||0})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl font-bold text-red-600 mb-2",children:ce((l==null?void 0:l.matchTime)||0)}),e.jsx("div",{className:"text-sm text-gray-600",children:y((l==null?void 0:l.matchTime)||0)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-2",children:O==null?void 0:O.name}),e.jsx("div",{className:"text-4xl font-bold text-gray-900",children:(l==null?void 0:l.awayScore)||D.awayScore||0})]})]})]})}),(a==null?void 0:a.role)==="admin"&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-3xl p-8 shadow-xl border border-white/20",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(Ie,{size:24,className:"mr-2"}),"Contrôle Admin"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-700",children:"Contrôle du Match"}),e.jsx("div",{className:"flex space-x-2",children:l!=null&&l.isLive?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:z,className:"flex-1 bg-yellow-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-yellow-600 transition-colors",children:[l!=null&&l.isPaused?e.jsx(Ge,{size:16,className:"mr-2"}):e.jsx(ss,{size:16,className:"mr-2"}),l!=null&&l.isPaused?"Reprendre":"Pause"]}),e.jsxs("button",{onClick:A,className:"flex-1 bg-red-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-red-600 transition-colors",children:[e.jsx(Ue,{size:16,className:"mr-2"}),"Terminer"]})]}):e.jsxs("button",{onClick:k,className:"flex-1 bg-green-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-600 transition-colors",children:[e.jsx(Ge,{size:16,className:"mr-2"}),"Démarrer"]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-700",children:"Contrôle du Temps"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:async()=>await ie.updateMatchTime(r,Math.max(0,((l==null?void 0:l.matchTime)||0)-30)),className:"bg-gray-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-gray-600",children:"-30s"}),e.jsx("button",{onClick:async()=>await ie.updateMatchTime(r,Math.max(0,((l==null?void 0:l.matchTime)||0)-1)),className:"bg-gray-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-gray-600",children:"-1s"}),e.jsx("button",{onClick:async()=>await ie.updateMatchTime(r,((l==null?void 0:l.matchTime)||0)+1),className:"bg-blue-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-blue-600",children:"+1s"}),e.jsx("button",{onClick:async()=>await ie.updateMatchTime(r,((l==null?void 0:l.matchTime)||0)+30),className:"bg-blue-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-blue-600",children:"+30s"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-700",children:"Phases"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:async()=>await ie.updateMatchTime(r,45*60),className:"bg-yellow-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-yellow-600",children:"Mi-temps"}),e.jsx("button",{onClick:async()=>await ie.updateMatchTime(r,90*60),className:"bg-orange-500 text-white px-3 py-2 rounded-lg text-sm hover:bg-orange-600",children:"Fin 90'"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-700",children:"Ajouter un Événement"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("select",{value:J,onChange:o=>Y(o.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"goal",children:"🥅 But"}),e.jsx("option",{value:"yellow_card",children:"🟨 Carton jaune"}),e.jsx("option",{value:"red_card",children:"🟥 Carton rouge"}),e.jsx("option",{value:"substitution",children:"🔄 Remplacement"})]}),e.jsxs("select",{value:U,onChange:o=>R(o.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"home",children:_==null?void 0:_.name}),e.jsx("option",{value:"away",children:O==null?void 0:O.name})]}),e.jsxs("select",{value:S,onChange:o=>X(o.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Sélectionner un joueur"}),(U==="home"?W:ee).map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))]}),e.jsx("button",{onClick:async()=>await F(),disabled:!S,className:"bg-green-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-green-600 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Ajouter"})]})]})]})}),(a==null?void 0:a.role)!=="admin"&&e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-3xl p-8 shadow-xl border border-white/20",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(pe,{size:24,className:"mr-2"}),"Vue Spectateur"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-blue-500 text-white p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.events.filter(o=>o.type==="goal").length)||0}),e.jsx("div",{className:"text-sm",children:"Buts"})]}),e.jsxs("div",{className:"bg-yellow-500 text-white p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.events.filter(o=>o.type==="yellow_card").length)||0}),e.jsx("div",{className:"text-sm",children:"Cartons Jaunes"})]}),e.jsxs("div",{className:"bg-red-500 text-white p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.events.filter(o=>o.type==="red_card").length)||0}),e.jsx("div",{className:"text-sm",children:"Cartons Rouges"})]}),e.jsxs("div",{className:"bg-purple-500 text-white p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.events.filter(o=>o.type==="substitution").length)||0}),e.jsx("div",{className:"text-sm",children:"Remplacements"})]})]})]})}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-3xl p-8 shadow-xl border border-white/20",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(Pe,{size:24,className:"mr-2"}),"Événements du Match"]}),!(l!=null&&l.events)||l.events.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ts,{size:48,className:"mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Aucun événement pour le moment"})]}):e.jsx("div",{className:"space-y-3",children:l==null?void 0:l.events.map(o=>e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${le(o.type)} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-2xl",children:Z(o.type)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:o.description}),e.jsxs("div",{className:"text-sm opacity-90",children:[o.minute,"' - ",o.timestamp.toLocaleTimeString()]})]})]}),(a==null?void 0:a.role)==="admin"&&e.jsx("button",{onClick:()=>{const I=(l==null?void 0:l.events.filter($=>$.id!==o.id))||[];ie.emit(r,{...l,events:I})},className:"text-white hover:text-red-200 transition-colors",children:e.jsx(je,{size:16})})]},o.id))})]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(he,{size:64,className:"text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-600",children:"Match non trouvé"})]})})},_s=Object.freeze(Object.defineProperty({__proto__:null,default:Ss},Symbol.toStringTag,{value:"Module"})),Cs=()=>{const{user:r}=Ae(),{tournaments:a,teams:s,matches:i,loadData:x}=De(),{language:l}=Ee(),m=l==="ar",[S,X]=b.useState(""),[J,Y]=b.useState(null),[U,R]=b.useState(!1),[D,_]=b.useState(!1),[O,W]=b.useState("15:00"),[ee,ce]=b.useState(new Set),[y,k]=b.useState(null);if(!r)return e.jsx(_e,{to:"/login",replace:!0});const z=(a||[]).find(c=>c.id===S)||(a||[])[0],A=(z==null?void 0:z.groups)||[],F=s.filter(c=>!(A||[]).flatMap(h=>{var g;return((g=h.groupTeams)==null?void 0:g.map(M=>M.teamId))||[]}).includes(c.id)),Z=c=>{const p=new Set(ee);p.has(c)?p.delete(c):p.add(c),ce(p)},le=async(c,p)=>{var h,g,M,f;try{const{addTeamToGroup:N}=await me(async()=>{const{addTeamToGroup:Q}=await import("./pages-admin-B5rhJhc1.js").then(se=>se.d);return{addTeamToGroup:Q}},__vite__mapDeps([0,1,2,3]));await N(c,p),await x()}catch(N){console.error("Erreur lors de l'ajout de l'équipe au groupe:",N),N instanceof Error?(console.error("Détails de l'erreur:",{message:N.message,response:(h=N.response)==null?void 0:h.data,status:(g=N.response)==null?void 0:g.status}),alert(`Erreur lors de l'ajout de l'équipe: ${((f=(M=N.response)==null?void 0:M.data)==null?void 0:f.message)||N.message}`)):(console.error("Erreur inconnue:",N),alert("Erreur lors de l'ajout de l'équipe"))}},o=async(c,p)=>{var h,g,M,f;try{const{removeTeamFromGroup:N}=await me(async()=>{const{removeTeamFromGroup:Q}=await import("./pages-admin-B5rhJhc1.js").then(se=>se.d);return{removeTeamFromGroup:Q}},__vite__mapDeps([0,1,2,3]));await N(c,p),await x()}catch(N){console.error("Erreur lors du retrait de l'équipe du groupe:",N),N instanceof Error?(console.error("Détails de l'erreur:",{message:N.message,response:(h=N.response)==null?void 0:h.data,status:(g=N.response)==null?void 0:g.status}),alert(`Erreur lors du retrait de l'équipe: ${((f=(M=N.response)==null?void 0:M.data)==null?void 0:f.message)||N.message}`)):(console.error("Erreur inconnue:",N),alert("Erreur lors du retrait de l'équipe"))}},I=async(c,p,h)=>{try{await o(p,c),await le(h,c),k(null)}catch(g){console.error("Erreur lors du déplacement de l'équipe:",g),g instanceof Error?console.error("Détails de l'erreur:",g.message):console.error("Erreur inconnue:",g)}},$=async c=>{if(z)try{const{createGroup:p}=await me(async()=>{const{createGroup:h}=await import("./pages-admin-B5rhJhc1.js").then(g=>g.d);return{createGroup:h}},__vite__mapDeps([0,1,2,3]));await p({name:c,tournamentId:z.id}),await x(),R(!1)}catch(p){console.error("Erreur lors de la création du groupe:",p),p instanceof Error?console.error("Détails de l'erreur:",p.message):console.error("Erreur inconnue:",p)}},H=async(c,p)=>{try{const{updateGroup:h}=await me(async()=>{const{updateGroup:g}=await import("./pages-admin-B5rhJhc1.js").then(M=>M.d);return{updateGroup:g}},__vite__mapDeps([0,1,2,3]));await h(c,{name:p}),await x(),_(!1),Y(null)}catch(h){console.error("Erreur lors de la modification du groupe:",h),h instanceof Error?console.error("Détails de l'erreur:",h.message):console.error("Erreur inconnue:",h)}},L=async c=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce groupe ?"))try{const{deleteGroup:p}=await me(async()=>{const{deleteGroup:h}=await import("./pages-admin-B5rhJhc1.js").then(g=>g.d);return{deleteGroup:h}},__vite__mapDeps([0,1,2,3]));await p(c),await x()}catch(p){console.error("Erreur lors de la suppression du groupe:",p),p instanceof Error?console.error("Détails de l'erreur:",p.message):console.error("Erreur inconnue:",p)}},G=async()=>{var c,p;if(z)try{const{generateMatches:h}=await me(async()=>{const{generateMatches:f}=await import("./pages-admin-B5rhJhc1.js").then(N=>N.d);return{generateMatches:f}},__vite__mapDeps([0,1,2,3])),g=await h(z.id,O);await x();const M=`Matchs générés avec succès !

📊 Résumé:
- ${g.totalMatches} matchs au total
- ${g.totalDays} jours de compétition
- ${g.groupMatches} matchs de groupes
- ${g.finalMatches} matchs de phase finale`;alert(M)}catch(h){console.error("Erreur lors de la génération des matchs:",h),h instanceof Error?alert(`Erreur lors de la génération des matchs: ${((p=(c=h.response)==null?void 0:c.data)==null?void 0:p.message)||h.message}`):alert("Erreur lors de la génération des matchs")}},V=async()=>{var c,p;if(z)try{const{updateFinalPhaseMatches:h}=await me(async()=>{const{updateFinalPhaseMatches:M}=await import("./pages-admin-B5rhJhc1.js").then(f=>f.d);return{updateFinalPhaseMatches:M}},__vite__mapDeps([0,1,2,3])),g=await h(z.id);await x(),alert(`Équipes qualifiées assignées avec succès !

🏆 ${g.qualifiedTeams.length} équipes qualifiées`)}catch(h){console.error("Erreur lors de la mise à jour des équipes qualifiées:",h),h instanceof Error?alert(`Erreur: ${((p=(c=h.response)==null?void 0:c.data)==null?void 0:p.message)||h.message}`):alert("Erreur lors de la mise à jour des équipes qualifiées")}},xe=async()=>{var c,p;if(z)try{const{generateFinalPhaseMatches:h}=await me(async()=>{const{generateFinalPhaseMatches:M}=await import("./pages-admin-B5rhJhc1.js").then(f=>f.d);return{generateFinalPhaseMatches:M}},__vite__mapDeps([0,1,2,3])),g=await h(z.id,O);await x(),alert(`Matchs de la phase finale générés avec succès !

🏆 ${g.totalMatches} matchs créés
- ${g.quarters} quarts de finale
- ${g.semis} demi-finales
- ${g.final} finale`)}catch(h){console.error("Erreur lors de la génération des matchs de la phase finale:",h),h instanceof Error?alert(`Erreur: ${((p=(c=h.response)==null?void 0:c.data)==null?void 0:p.message)||h.message}`):alert("Erreur lors de la génération des matchs de la phase finale")}},de=c=>{var M;const p=i.filter(f=>f.groupId===c.id),h=p.filter(f=>f.status==="completed"),g=p.length;return{totalMatches:g,completedMatches:h.length,pendingMatches:g-h.length,teams:((M=c.groupTeams)==null?void 0:M.length)||0}},ge=c=>{var g;const p=i.filter(M=>M.groupId===c.id&&M.status==="completed");return(((g=c.groupTeams)==null?void 0:g.map(M=>{const f=s.find(t=>t.id===M.teamId),N=p.filter(t=>t.homeTeam===M.teamId||t.awayTeam===M.teamId);let Q=0,se=0,K=0,d=0,j=0,C=0;return N.forEach(t=>{const u=t.homeTeam===M.teamId,E=u?t.homeScore:t.awayScore,P=u?t.awayScore:t.homeScore;se+=E,K+=P,E>P?(Q+=3,d++):E===P?(Q+=1,j++):C++}),{teamId:M.teamId,teamName:(f==null?void 0:f.name)||"Équipe inconnue",points:Q,goalsFor:se,goalsAgainst:K,goalDifference:se-K,wins:d,draws:j,losses:C,matchesPlayed:N.length}}))||[]).sort((M,f)=>M.points!==f.points?f.points-M.points:M.goalDifference!==f.goalDifference?f.goalDifference-M.goalDifference:f.goalsFor-M.goalsFor)},ne={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.8,staggerChildren:.1}}},be={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6,ease:"easeOut"}}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-green-50 to-emerald-50 dark:from-slate-900 dark:via-green-900 dark:to-emerald-900",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-green-600 via-emerald-600 to-teal-800",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"absolute inset-0 bg-grid-white/10"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:e.jsxs(q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[e.jsx(q.div,{initial:{scale:.8},animate:{scale:1},transition:{duration:.6,delay:.2},className:"inline-flex items-center justify-center w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full mb-8 shadow-2xl",children:e.jsx(pe,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-5xl md:text-7xl font-black mb-6 leading-tight",children:e.jsx("span",{className:"bg-gradient-to-r from-white via-green-100 to-white bg-clip-text text-transparent",children:m?"7OUMA المجموعات":"7OUMA Groupes"})}),e.jsx("p",{className:"text-xl md:text-2xl text-white/90 max-w-3xl mx-auto leading-relaxed mb-8",children:m?"إدارة المجموعات والفرق في البطولات":"Gérez les groupes et équipes de vos tournois"}),r.role==="admin"&&e.jsxs(q.button,{onClick:()=>R(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center px-8 py-4 bg-white text-green-600 font-bold text-lg rounded-2xl shadow-2xl hover:shadow-white/25 transition-all duration-300",children:[e.jsx(Ne,{className:"w-6 h-6 mr-2"}),m?"إنشاء مجموعة جديدة":"Nouveau Groupe"]})]})})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl p-8 mb-8 border border-white/20",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:m?"اختر البطولة":"Sélectionner un tournoi"}),e.jsx("p",{className:"text-gray-600",children:m?"اختر البطولة لإدارة مجموعاتها":"Sélectionnez un tournoi pour gérer ses groupes"})]}),e.jsx("select",{value:S,onChange:c=>X(c.target.value),className:"px-6 py-4 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/20 focus:border-green-500 transition-all duration-300 bg-white/50 backdrop-blur-sm min-w-[300px]",children:(a||[]).map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))})]})}),r.role==="admin"&&(A||[]).length>0&&e.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-3xl shadow-xl p-8 mb-8 border border-green-200",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:m?"إنشاء المباريات":"Génération des matchs"}),e.jsx("p",{className:"text-gray-600",children:m?"إنشاء مباريات البطولة تلقائياً":"Générez automatiquement les matchs du tournoi"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Te,{className:"w-5 h-5 text-gray-600"}),e.jsx("label",{className:"text-sm font-medium text-gray-700",children:m?"وقت المباراة:":"Heure des matchs:"}),e.jsx("input",{type:"time",value:O,onChange:c=>W(c.target.value),className:"px-4 py-2 border border-gray-300 rounded-xl text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(q.button,{onClick:G,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 bg-green-600 text-white rounded-2xl hover:bg-green-700 transition-all duration-300 flex items-center space-x-2 font-semibold shadow-lg",children:[e.jsx(Me,{className:"w-5 h-5"}),e.jsx("span",{children:m?"إنشاء المباريات":"Générer les matchs"})]}),e.jsxs(q.button,{onClick:V,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 bg-purple-600 text-white rounded-2xl hover:bg-purple-700 transition-all duration-300 flex items-center space-x-2 font-semibold shadow-lg",children:[e.jsx(he,{className:"w-5 h-5"}),e.jsx("span",{children:m?"تعيين الفرق المؤهلة":"Assigner équipes qualifiées"})]}),e.jsxs(q.button,{onClick:xe,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 bg-orange-600 text-white rounded-2xl hover:bg-orange-700 transition-all duration-300 flex items-center space-x-2 font-semibold shadow-lg",children:[e.jsx(Pe,{className:"w-5 h-5"}),e.jsx("span",{children:m?"إنشاء المرحلة النهائية":"Générer phase finale"})]})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-2xl border border-blue-200",children:[e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[e.jsxs("strong",{children:["📅 ",m?"هيكل FIFA الرسمي:":"Structure FIFA officielle :"]})," ",m?"مباراة واحدة يومياً، توزيع متوازن، راحة مثالية":"1 match par jour, répartition équilibrée, repos optimal"]}),e.jsxs("div",{className:"mt-2 text-xs text-blue-700",children:[e.jsxs("p",{children:["• ",m?"18 يوم من مرحلة المجموعات (6 مباريات لكل مجموعة)":"18 jours de phase de groupes (6 matchs par groupe)"]}),e.jsxs("p",{children:["• ",m?"كل فريق يلعب كل 4-5 أيام":"Chaque équipe joue tous les 4-5 jours"]}),e.jsxs("p",{children:["• ",m?"هيكل مطابق لكأس العالم FIFA":"Structure identique à la Coupe du Monde FIFA"]})]})]})]}),e.jsx(q.div,{variants:ne,initial:"hidden",animate:"visible",className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-8",children:(A||[]).map(c=>{var M;const p=de(c),h=ge(c),g=ee.has(c.id);return e.jsxs(q.div,{variants:be,className:"group relative bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-500 overflow-hidden border border-white/20 hover:scale-105",children:[e.jsxs("div",{className:"p-8 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(pe,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:c.name}),e.jsx("p",{className:"text-sm text-gray-600",children:m?`${p.teams} فريق`:`${p.teams} équipes`})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r.role==="admin"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{Y(c),_(!0)},className:"p-2 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-xl transition-all duration-300",title:m?"تعديل":"Modifier",children:e.jsx(Se,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>L(c.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all duration-300",title:m?"حذف":"Supprimer",children:e.jsx(Be,{className:"w-4 h-4"})})]}),e.jsx("button",{onClick:()=>Z(c.id),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-xl transition-all duration-300",children:g?e.jsx(rs,{className:"w-5 h-5"}):e.jsx(as,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 rounded-2xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.teams}),e.jsx("div",{className:"text-xs text-gray-600",children:m?"الفرق":"Équipes"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-2xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.totalMatches}),e.jsx("div",{className:"text-xs text-gray-600",children:m?"المباريات":"Matchs"})]}),e.jsxs("div",{className:"bg-orange-50 rounded-2xl p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:p.completedMatches}),e.jsx("div",{className:"text-xs text-gray-600",children:m?"منتهية":"Terminés"})]})]})]}),g&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(pe,{className:"w-5 h-5 mr-2 text-green-600"}),m?"الفرق في هذه المجموعة:":"Équipes dans ce groupe:"]}),e.jsx("div",{className:"space-y-3",children:(M=c.groupTeams)==null?void 0:M.map((f,N)=>{var Q,se;return e.jsxs(q.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:N*.1},className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-white rounded-2xl border border-gray-100 hover:border-green-200 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center text-white font-bold text-sm shadow-lg",children:((Q=s.find(K=>K.id===f.teamId))==null?void 0:Q.logo)||"⚽"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-gray-900",children:((se=s.find(K=>K.id===f.teamId))==null?void 0:se.name)||"Équipe inconnue"}),N===0&&e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(ls,{className:"w-3 h-3 text-yellow-500 mr-1"}),e.jsx("span",{className:"text-xs text-yellow-600 font-medium",children:m?"المركز الأول":"1er place"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[r.role==="admin"&&(A||[]).length>1&&e.jsx("button",{onClick:()=>{var K;return k({teamId:f.teamId,teamName:((K=s.find(d=>d.id===f.teamId))==null?void 0:K.name)||"Équipe inconnue",fromGroupId:c.id})},className:"p-2 text-blue-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all duration-300",title:m?"نقل الفريق":"Déplacer l'équipe",children:e.jsx(ns,{className:"w-4 h-4"})}),r.role==="admin"&&e.jsx("button",{onClick:()=>o(c.id,f.teamId),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all duration-300",title:m?"إزالة الفريق":"Retirer l'équipe",children:e.jsx(je,{className:"w-4 h-4"})})]})]},f.id)})}),r.role==="admin"&&F.length>0&&e.jsx("div",{className:"mt-6",children:e.jsxs("select",{onChange:f=>{f.target.value&&(le(c.id,f.target.value),f.target.value="")},className:"w-full px-4 py-3 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/20 focus:border-green-500 transition-all duration-300 bg-white/50 backdrop-blur-sm",children:[e.jsx("option",{value:"",children:m?"إضافة فريق...":"Ajouter une équipe..."}),(F||[]).map(f=>e.jsx("option",{value:f.id,children:f.name},f.id))]})})]}),h.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center",children:[e.jsx(he,{className:"w-5 h-5 mr-2 text-yellow-600"}),m?"الترتيب:":"Classement:"]}),e.jsx("div",{className:"space-y-2",children:(h||[]).map((f,N)=>e.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:N*.05},className:`flex items-center justify-between p-3 rounded-2xl text-sm transition-all duration-300 ${N===0?"bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200":N===1?"bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200":N===2?"bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200":"bg-gray-50 border border-gray-100"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${N===0?"bg-yellow-500 text-white":N===1?"bg-gray-500 text-white":N===2?"bg-orange-500 text-white":"bg-gray-300 text-gray-700"}`,children:N+1}),e.jsx("span",{className:"font-semibold text-gray-900",children:f.teamName})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs",children:[e.jsxs("span",{className:"font-bold text-green-600",children:[f.points,"pts"]}),e.jsxs("span",{className:"text-gray-600",children:[f.goalsFor,"-",f.goalsAgainst]}),e.jsxs("span",{className:"text-gray-500",children:[f.matchesPlayed,"J"]})]})]},f.teamId))})]})]})]},c.id)})}),(A||[]).length===0&&e.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-20",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-12 border border-white/20",children:[e.jsx(pe,{size:80,className:"mx-auto text-gray-400 mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-600 mb-4",children:m?"لا توجد مجموعات":"Aucun groupe créé"}),e.jsx("p",{className:"text-gray-500 text-lg",children:m?"أنشئ مجموعتك الأولى للبدء":"Créez votre premier groupe pour commencer"})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:m?"نقل الفريق":"Déplacer l'équipe"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:[m?"نقل":"Déplacer"," ",e.jsx("strong",{children:y.teamName})," ",m?"إلى:":"vers :"]}),e.jsxs("select",{onChange:c=>{c.target.value&&c.target.value!==y.fromGroupId&&I(y.teamId,y.fromGroupId,c.target.value)},className:"w-full px-4 py-3 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/20 focus:border-green-500 transition-all duration-300 mb-6",children:[e.jsx("option",{value:"",children:m?"اختر مجموعة...":"Sélectionner un groupe..."}),(A||[]).filter(c=>c.id!==y.fromGroupId).map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>k(null),className:"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors font-medium",children:m?"إلغاء":"Annuler"})})]})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:m?"إنشاء مجموعة جديدة":"Créer un nouveau groupe"}),e.jsx("input",{type:"text",placeholder:m?"اسم المجموعة (مثال: المجموعة أ)":"Nom du groupe (ex: Groupe A)",className:"w-full px-4 py-3 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/20 focus:border-green-500 transition-all duration-300 mb-6",onKeyPress:c=>{if(c.key==="Enter"){const p=c.target;p.value.trim()&&$(p.value.trim())}}}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>R(!1),className:"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors font-medium",children:m?"إلغاء":"Annuler"}),e.jsx("button",{onClick:()=>{const c=document.querySelector('input[placeholder*="Nom du groupe"], input[placeholder*="اسم المجموعة"]');c!=null&&c.value.trim()&&$(c.value.trim())},className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 font-semibold shadow-lg",children:m?"إنشاء":"Créer"})]})]})}),D&&J&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:m?"تعديل المجموعة":"Modifier le groupe"}),e.jsx("input",{type:"text",defaultValue:J.name,className:"w-full px-4 py-3 border border-gray-200 rounded-2xl focus:ring-4 focus:ring-green-500/20 focus:border-green-500 transition-all duration-300 mb-6",onKeyPress:c=>{if(c.key==="Enter"){const p=c.target;p.value.trim()&&H(J.id,p.value.trim())}}}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>{_(!1),Y(null)},className:"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors font-medium",children:m?"إلغاء":"Annuler"}),e.jsx("button",{onClick:()=>{const c=document.querySelector('input[defaultValue*="Groupe"], input[defaultValue*="المجموعة"]');c!=null&&c.value.trim()&&H(J.id,c.value.trim())},className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-2xl hover:from-green-600 hover:to-emerald-700 transition-all duration-300 font-semibold shadow-lg",children:m?"تحديث":"Modifier"})]})]})})]})]})},Ls=Object.freeze(Object.defineProperty({__proto__:null,default:Cs},Symbol.toStringTag,{value:"Module"})),Ts=({onSuggestionSelect:r,onAction:a})=>{const[s,i]=b.useState(!1),[x,l]=b.useState([{id:"1",type:"assistant",content:"مرحبا! أنا طاهية كوتش، مساعدتك الذكي لتنظيم البطولات! كيف يمكنني مساعدتك  اليوم؟",timestamp:new Date}]),[m,S]=b.useState(""),[X,J]=b.useState(!1),Y=b.useRef(null),U=()=>{var y;(y=Y.current)==null||y.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{U()},[x]);const R=(y,k,z,A)=>{const F={id:Date.now().toString(),type:k,content:y,timestamp:new Date,suggestions:z,action:A};l(Z=>[...Z,F])},D=async(y,k,z)=>{J(!0),await new Promise(A=>setTimeout(A,1e3+Math.random()*2e3)),R(y,"assistant",k,z),J(!1)},_=async()=>{if(!m.trim())return;const y=m.trim();R(y,"user"),S(""),await O(y)},O=async y=>{const k=y.toLowerCase();if(k.includes("بطولة")||k.includes("tournament"))if(k.includes("12")||k.includes("اثنتي عشرة")){const z=W(12);await D("ممتاز! لـ 12 فريق، إليك أفضل الخيارات:",z,"tournament_suggestions")}else if(k.includes("8")||k.includes("ثمانية")){const z=W(8);await D("لـ 8 فرق، هذه أفضل التنسيقات:",z,"tournament_suggestions")}else await D("أخبرني بعدد الفرق وسأساعدك في اختيار أفضل تنسيق للبطولة!");else k.includes("مجموعات")||k.includes("groups")?await D("سأساعدك في تشكيل المجموعات! كم عدد الفرق لديك؟"):k.includes("مباريات")||k.includes("matches")?await D("لجدولة المباريات، أحتاج معرفة: عدد الفرق، المدة المتاحة، وعدد الملاعب."):k.includes("إحصائيات")||k.includes("stats")?await D("يمكنني مساعدتك في تحليل الإحصائيات! ما الذي تريد معرفته تحديداً؟"):await D("أنا هنا لمساعدتك في تنظيم البطولات! يمكنني اقتراح التنسيقات، جدولة المباريات، وتحليل الإحصائيات. ما الذي تحتاج إليه؟")},W=y=>{const k=[];return y===12&&(k.push({format:"groups",numberOfGroups:3,teamsPerGroup:4,totalMatches:18,estimatedDuration:"1 jour",description:"3 مجموعات من 4 فرق، مرحلة المجموعات + إقصائيات",advantages:["توازن مثالي بين الفرق","كل فريق يلعب 3 مباريات على الأقل","تنسيق معياري ومعترف به","إمكانية تأهل أفضل ثالث"],disadvantages:["المزيد من المباريات لتنظيمها","يتطلب المزيد من الوقت"],recommended:!0}),k.push({format:"knockout",numberOfGroups:0,teamsPerGroup:0,totalMatches:11,estimatedDuration:"4 ساعات",description:"إقصائي مباشر مع 4 فرق معفاة",advantages:["أسرع تنسيق","أقصى درجات التشويق","قليل من المباريات لتنظيمها"],disadvantages:["الفرق تُقصى بسرعة","لا توجد فرصة ثانية","يعتمد على القرعة"],recommended:!1})),k},ee=y=>{r==null||r(y),R(`تم اختيار: ${y.description}`,"user")},ce=[{icon:he,label:"اقتراح بطولة",action:"suggest_tournament"},{icon:pe,label:"تشكيل مجموعات",action:"form_groups"},{icon:Te,label:"جدولة مباريات",action:"schedule_matches"},{icon:Ie,label:"تحليل إحصائيات",action:"analyze_stats"}];return e.jsxs(e.Fragment,{children:[e.jsx(q.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-orange-500 to-red-500 rounded-full shadow-lg flex items-center justify-center text-white z-50",children:e.jsx(Fe,{className:"w-8 h-8"})}),e.jsx(os,{children:s&&e.jsx(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end justify-end p-4",children:e.jsxs(q.div,{initial:{scale:.9,y:100},animate:{scale:1,y:0},exit:{scale:.9,y:100},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md h-96 flex flex-col",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white p-4 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Fe,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:"طاهية كوتش"}),e.jsx("p",{className:"text-sm opacity-90",children:"المساعد الذكي للبطولات"})]})]}),e.jsx("button",{onClick:()=>i(!1),className:"text-white/80 hover:text-white",children:"✕"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[x.map(y=>e.jsx(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex ${y.type==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs p-3 rounded-2xl ${y.type==="user"?"bg-gradient-to-r from-orange-500 to-red-500 text-white":"bg-gray-100 text-gray-800"}`,children:[e.jsx("p",{className:"text-sm",children:y.content}),y.suggestions&&e.jsx("div",{className:"mt-3 space-y-2",children:y.suggestions.map((k,z)=>e.jsxs(q.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ee(k),className:`w-full p-3 rounded-lg text-left text-xs border ${k.recommended?"bg-green-50 border-green-200 text-green-800":"bg-white border-gray-200 text-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-semibold",children:k.description}),k.recommended&&e.jsx("span",{className:"text-green-600",children:"⭐ موصى به"})]}),e.jsxs("div",{className:"text-xs opacity-75",children:[k.totalMatches," مباراة • ",k.estimatedDuration]})]},z))})]})},y.id)),X&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 p-3 rounded-2xl",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),e.jsx("div",{ref:Y})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200",children:[e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:ce.map(y=>e.jsxs(q.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{R(y.label,"user"),O(y.label)},className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg text-sm hover:bg-gray-100 transition-colors",children:[e.jsx(y.icon,{className:"w-4 h-4 text-orange-500"}),e.jsx("span",{children:y.label})]},y.action))}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:m,onChange:y=>S(y.target.value),onKeyPress:y=>y.key==="Enter"&&_(),placeholder:"اكتب رسالتك...",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),e.jsx(q.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,className:"p-3 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-lg",children:e.jsx(is,{className:"w-5 h-5"})})]})]})]})})})]})},ks=()=>{const[r,a]=b.useState(null),s=x=>{a(x),console.log("Suggestion sélectionnée:",x)},i=(x,l)=>{console.log("Action demandée:",x,l)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Assistant AI - Tahia Coach"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Votre assistant intelligent pour organiser des tournois parfaits"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"🤖 Tahia Coach"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Tahia Coach est votre assistant AI personnel qui vous aide à :"}),e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Choisir le meilleur format de tournoi"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Calculer la durée et le nombre de matchs"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Planifier les groupes et les matchs"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Analyser les statistiques"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"💡 Fonctionnalités"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Générateur de tournoi intelligent"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Suggère automatiquement le format optimal selon vos contraintes"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Assistant multilingue"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Support complet en français et arabe"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Recommandations personnalisées"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Adapté à votre contexte et vos besoins"})]})]})]})]})]}),r&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"✅ Suggestion Sélectionnée"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:r.description}),e.jsxs("div",{className:"space-y-2 text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Format:"})," ",r.format]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Groupes:"})," ",r.numberOfGroups]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Équipes par groupe:"})," ",r.teamsPerGroup]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Matchs totaux:"})," ",r.totalMatches]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Durée estimée:"})," ",r.estimatedDuration]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Avantages:"}),e.jsx("ul",{className:"space-y-1 text-gray-600",children:r.advantages.map((x,l)=>e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),x]},l))})]})]}),e.jsxs("div",{className:"mt-4 flex space-x-4",children:[e.jsx("button",{className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Appliquer cette suggestion"}),e.jsx("button",{onClick:()=>a(null),className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Choisir une autre suggestion"})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"🚀 Comment utiliser Tahia Coach"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-500 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4",children:"1"}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Cliquez sur l'assistant"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Utilisez le bouton flottant en bas à droite pour ouvrir Tahia Coach"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-500 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4",children:"2"}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Posez votre question"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Décrivez votre tournoi ou utilisez les actions rapides"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-500 text-white rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4",children:"3"}),e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:"Recevez des suggestions"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Choisissez parmi les recommandations personnalisées"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"💬 Exemples de questions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-gray-800 font-medium",children:`"J'ai 12 équipes, quel format me recommandes-tu ?"`})}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-gray-800 font-medium",children:'"Aide-moi à former les groupes pour 8 équipes"'})}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-gray-800 font-medium",children:'"Quel joueur a marqué le plus de buts ?"'})}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-gray-800 font-medium",children:'"Planifie les matchs pour ce weekend"'})})]})]}),e.jsx(Ts,{onSuggestionSelect:s,onAction:i})]})})},Os=Object.freeze(Object.defineProperty({__proto__:null,default:ks},Symbol.toStringTag,{value:"Module"}));export{Ls as G,_s as L,Is as M,Gs as T,Os as a,$s as l,qs as p,zs as s};
